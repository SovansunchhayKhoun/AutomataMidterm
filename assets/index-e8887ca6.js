import{r as m,j as e,a as ie}from"./react-e3f22801.js";import{c as oe}from"./react-dom-ca9bc2d4.js";import{L as ce,c as de}from"./react-router-dom-4201b085.js";import{a as he,O as ue,R as fe}from"./react-router-8ba3ec2c.js";import{T as S}from"./flowbite-react-5e689fe5.js";import"./react-indiana-drag-scroll-533871e5.js";import{$ as G}from"./jquery-e66bc7ee.js";import{Q as xe,a as me}from"./@tanstack-8b34a394.js";import"./scheduler-765c72db.js";import"./@remix-run-a4f399d2.js";import"./react-icons-c518e3e7.js";import"./@floating-ui-2bd93df1.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./tailwind-merge-1166cefb.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function i(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(n){if(n.ep)return;n.ep=!0;const u=i(n);fetch(n.href,u)}})();const D=m.createContext(),pe=({children:x})=>{const[a,i]=m.useState("Construct FA");return e.jsx(D.Provider,{value:{navBarSelect:a,setNavBarSelect:i},children:x})},ge=()=>{const{navBarSelect:x}=m.useContext(D);return e.jsx("div",{className:`min-[1880px]:px-96
    lg:px-16
    md:px-6 px-6 min-h-[64px] w-full py-6 pl-6 bg-slate-500 text-white font-semibold text-2xl`,children:x})},je=()=>{const{navBarSelect:x,setNavBarSelect:a}=m.useContext(D);he();const i=[{title:"Construct FA",to:"/AutomataMidterm/"},{title:"Classify FA",to:"/AutomataMidterm/classify"},{title:"Validate String",to:"/AutomataMidterm/validate"},{title:"Minimize DFA",to:"/AutomataMidterm/minimized"}];return e.jsxs("nav",{className:"fixed w-full z-50",children:[e.jsx("div",{className:`min-[1880px]:px-96
        lg:px-16
        md:px-6 px-6 bg-blue-500 p-4 flex items-center justify-start list-none gap-x-5 text-white`,children:i.map((r,n)=>e.jsx(ce,{to:r.to,onClick:()=>{a(r.title)},className:`${r.title===x&&"bg-white p-2 rounded-md text-black"}`,children:r.title},n))}),e.jsx(ge,{})]})},be=()=>e.jsxs("div",{className:"min-h-screen flex flex-col overflow-auto",children:[e.jsx(je,{}),e.jsx("main",{className:`
          min-[1880px]:px-96
          lg:px-16
          md:px-6 md:pb-2 px-6 mt-48`,children:e.jsx(ue,{})})]}),q=m.createContext(),Se=({children:x})=>{const[a,i]=m.useState({}),[r,n]=m.useState(0),[u,g]=m.useState(0),[f,j]=m.useState(!1),[A,w]=m.useState(!1),[T,y]=m.useState(!1),[c,h]=m.useState({faStates:[],faAlphabets:[],faStartState:"",faFinalStates:[],transitionSets:Array.from({length:r},(s,t)=>Array.from({length:u},(o,l)=>({transitState:`q${t}`,transitAlphabet:String.fromCharCode(l+97),transitResult:[],startState:!0,finalState:!0})))}),[N,z]=m.useState(""),v=()=>{h({...c,faStates:[],faStartStates:[],faFinalStates:[]})},E=()=>{c.transitionSets=Array.from({length:r},(s,t)=>Array.from({length:u},(o,l)=>({transitState:`q${t}`,transitAlphabet:String.fromCharCode(l+97),transitResult:[],startState:c.faStartState===`q${t}`,finalState:c.faFinalStates.includes(`q${t}`)}))),h({...c})},J=s=>{if(i({...a,stateError:""}),v(),E(),h({...c}),Number(s.target.value)<=0&&(n(0),v()),Number(s.target.value)>0&&Number(s.target.value)<=5){n(Number(s.target.value));for(let t=0;t<Number(s.target.value);t++)c.faStates.push(`q${t}`),c.transitionSets=Array.from({length:Number(s.target.value)},(o,l)=>Array.from({length:u},(d,p)=>({transitState:`q${l}`,transitAlphabet:String.fromCharCode(p+97),transitResult:[],startState:`q${l}`===c.faStartState,finalState:!1}))),h({...c,faStartState:"q0"})}else Number(s.target.value)>=6&&(i({...a,stateError:"Cannot exceed 5 states"}),v(),E())},W=()=>{if(i({...a,nfaError:""}),f){const s=c.faAlphabets.indexOf("$");c.faAlphabets.splice(s,1),j(!1),h({...c}),R(),E()}f||(j(!0),c.faAlphabets.push("$"),c.transitionSets=Array.from({length:r},(s,t)=>Array.from({length:c.faAlphabets.length},(o,l)=>({transitState:`q${t}`,transitAlphabet:l!==c.faAlphabets.length-1?String.fromCharCode(l+97):"$",transitResult:[],startState:c.faStartState===`q${t}`,finalState:c.faFinalStates.includes(`q${t}`)}))),R(),h({...c}))},Y=()=>{j(!1),w(!1),h({...c,faAlphabets:[]})},Q=s=>{if(i({...a,alphabetError:""}),Y(),E(),Number(s.target.value)<=0&&(g(0),Y()),Number(s.target.value)>0&&Number(s.target.value)<=5){g(Number(s.target.value));for(let t=0;t<s.target.value;t++)c.faAlphabets.push(String.fromCharCode(t+97)),c.transitionSets=Array.from({length:r},(o,l)=>Array.from({length:Number(s.target.value)},(d,p)=>({transitState:`q${l}`,transitAlphabet:String.fromCharCode(p+97),transitResult:[],startState:`q${l}`===c.faStartState,finalState:c.faFinalStates===`q${l}`}))),h({...c})}else Number(s.target.value)>=6&&(i({...a,alphabetError:"Cannot exceed 5 alphabets"}),Y(),E())},U=s=>{const{transitionSets:t}=c;t.forEach(o=>{o.forEach(l=>{l.transitState!==s?l.startState=!1:l.startState=!0})}),h({...c,faStartState:s})},P=()=>{const{transitionSets:s,faFinalStates:t}=c;t.forEach(o=>{s.forEach(l=>{l.filter(d=>d.transitState===o).forEach(d=>d.finalState=!0)})})},C=s=>{const{transitionSets:t}=c;t.forEach(o=>{o.forEach(l=>{l.transitState===s&&(l.finalState=!1)})})},B=s=>{const{value:t,checked:o}=s.target,{faFinalStates:l}=c;if(o)l.includes(t)||(l.push(t),P());else{const d=l.indexOf(t);l.splice(d,1),C(t)}h({...c})},R=()=>{const{transitionSets:s,faAlphabets:t}=c;let o=!1,l=0;t.includes("$")?(w(!0),o=!0):s.forEach(d=>d.forEach(p=>{l+=p.transitResult.length,l!==c.faStates.length*c.faAlphabets.length?(w(!0),o=!0):(w(!1),o=!1)})),o||w(!1)},X=(s,t,o,l)=>{const{checked:d}=l.target,{transitionSets:p}=c,{row:b}=t,{col:F}=o,I=p[b][F];d&&!I.transitResult.includes(s)?(I.transitResult.push(s),R()):(I.transitResult.splice(I.transitResult.indexOf(s),1),R()),h({...c})},Z=s=>{i({...a,stringError:""}),y(!1);const{value:t}=s.target;z(t)},H=()=>{const{faAlphabets:s}=c;let t=N.length-1,o=!0;for(;t>=0;){if(!s.includes(N[t]))return!1;t--}return o};function _(){const{transitionSets:s}=c;let t=[];return s.forEach(o=>{o.forEach(l=>{l.startState&&t.push(l)})}),t}const $=s=>{const{transitionSets:t}=c;let o=[];return t.forEach(l=>{l.forEach(d=>{d.transitState===s?(d.startState=!0,o.push(d)):d.startState=!1})}),o};let k=[_()],M=!1;const O=(s,t)=>{let o=s,l=t;if(o.length===0&&!M){k=[$(c.faStartState)],l.every(d=>c.faFinalStates.includes(d)?(y(c.faFinalStates.includes(d)),!1):!0),l=[];return}if(i({...a,stringError:""}),c.faFinalStates.length<=0){i({...a,stringError:"Missing Final States"});return}H()?(M=!1,l=[],k.forEach(d=>d.forEach(p=>{p.transitAlphabet===o[0]&&p.transitResult.forEach(b=>{l.includes(b)||l.push(b)}),p.transitAlphabet==="$"&&p.transitResult.length>0&&p.transitResult.forEach(b=>{M=!0,l.includes(b)||l.push(b)})})),M||(l.forEach(d=>{k.push($(d))}),k.forEach(d=>{d.forEach(p=>{p.transitAlphabet==="$"&&p.transitResult.length>0&&p.transitResult.forEach(b=>{M=!0,l.includes(b)||l.push(b)})})}),M&&(k=[],l.forEach(d=>{k.push($(d))}),O(o,l))),o=o.slice(1),M&&(k=[],l.forEach(d=>{k.push($(d))}),O(o,l)),k=[],l.forEach(d=>{k.push($(d))}),O(o,l)):(i({...a,stringError:"Some input alphabets are not included in your alphabet set"}),y(!1))},K=()=>{if(i({...a,stringError:""}),c.faFinalStates.length<=0){i({...a,stringError:"Missing Final States"});return}if(!H())i({...a,stringError:"Some input alphabets are not included in your alphabet set"}),y(!1);else{let s=0,t=_(),o;for(;s<=N.length-1;)t.some(l=>l.transitAlphabet===N[s])&&(o=t.find(l=>l.transitAlphabet===N[s]),t.forEach(l=>l.startState=!1)),t=$(o.transitResult[0]),s++;t=$(c.faStartState),y(c.faFinalStates.includes(o.transitResult[0]))}},ee=()=>{const{faStates:s,faAlphabets:t,faStartState:o,faFinalStates:l,transitionSets:d}=c;console.log("Start state: "),console.log(o),console.log("States set: "),console.log(s),console.log("Alphabets set: "),console.log(t),console.log("Transitions set: "),console.log(d),console.log("Final states: "),console.log(l)};return e.jsx(q.Provider,{value:{validateNFA:O,handleTransition:X,isAccepted:T,setIsAccepted:y,inputString:N,setInputString:z,handleString:Z,validateDFA:K,epsilonCheck:f,setEpsilonCheck:j,nfa:A,setNfa:w,setRows:n,setCols:g,adjustEpsilon:W,error:a,setError:i,handleFinalState:B,fa:c,setFa:h,handleStartState:U,generateAlphabets:Q,generateStates:J,submitForm:ee},children:x})},se=()=>{const{fa:x,generateStates:a,error:i}=m.useContext(q),{faStates:r}=x;return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex gap-1 items-center",htmlFor:"state",children:[e.jsx("span",{children:"State:"}),e.jsx("input",{value:r.length||0,min:"0",type:"number",required:!0,max:"5",onChange:n=>{a(n)},className:"border-2 border-blue-500 px-2 py-1 w-full",id:"state",placeholder:"Number of States..."})]}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{children:["Your States [ ",r==null?void 0:r.map((n,u)=>e.jsxs("span",{children:[n,r.length-1!==u&&", "]},u))," ]"]})}),e.jsxs("div",{children:[e.jsx("span",{className:`${i?"text-red-500 text-xs":"hidden"}`,children:i&&i.nfaError}),e.jsx("span",{className:`${i?"text-red-500 text-xs":"hidden"}`,children:i&&i.stateError})]})]})},ae=()=>{const{fa:x,generateAlphabets:a,error:i,adjustEpsilon:r,epsilonCheck:n}=m.useContext(q),{faAlphabets:u}=x;return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex items-center gap-1",htmlFor:"alphabet",children:[e.jsx("span",{children:"Alphabet:"}),e.jsx("input",{required:!0,onChange:g=>{a(g)},value:u.length||0,min:"0",max:"5",className:"border-2 border-blue-500 px-2 py-1 w-full",type:"number",id:"alphabet",placeholder:"Number of Alphabets"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:["Your Alphabets: [ ",u==null?void 0:u.map((g,f)=>e.jsxs("span",{children:[" ",g,u.length-1!==f&&", "]},f))," ]"]}),u.length>0&&e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:n,onChange:g=>r(g),className:"border-2 border-blue-500",type:"checkbox"}),e.jsx("label",{htmlFor:"",children:"Include Epsilon?"})]})]}),e.jsx("span",{className:`${i?"text-red-500 text-xs":"hidden"}`,children:i&&i.alphabetError})]})},le=()=>{const{fa:x,handleStartState:a}=m.useContext(q),{faStates:i,faStartState:r}=x;if(i.length>0)return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{children:"Start State"}),i==null?void 0:i.filter(n=>n!=="Trap").map((n,u)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{onChange:()=>{a(n)},checked:r===n,type:"checkbox"}),e.jsx("label",{htmlFor:"",children:n})]},u))]}),e.jsxs("div",{children:["Your Start State: ",r]})]})},re=()=>{const{fa:x,handleFinalState:a}=m.useContext(q),{faStates:i,faFinalStates:r}=x;if(i.length>0)return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsx("div",{children:"Final State"}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:i==null?void 0:i.filter(n=>n!=="Trap").map((n,u)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:r.includes(n),type:"checkbox",onChange:g=>{a(g)},value:n,id:n}),e.jsx("label",{htmlFor:n,children:n})]},u))}),e.jsxs("div",{children:[(r==null?void 0:r.length)>0&&"Your Final State: ",r==null?void 0:r.map((n,u)=>e.jsxs("span",{children:[n,r.length-1!==u&&", "]},u))]})]})},te=()=>{const{fa:x}=m.useContext(q),{transitionSets:a}=x;if(a.length>0)return e.jsx("div",{className:"h-full p-4 w-full box-border flex flex-col items-center border-blue-500 border-2 rounded-tl-md rounded-tr-md",children:e.jsx("div",{className:"grid grid-cols-5 gap-6 w-fit",children:a==null?void 0:a.map((i,r)=>e.jsx("div",{className:"h-full p-4 w-full flex flex-col border-blue-500 border-2 rounded-tl-md rounded-tr-md gap-2",children:i.map((n,u)=>e.jsxs("div",{className:"w-fit text-white bg-blue-950 px-2 py-1 rounded-md",children:[n.transitState,"  ->  ",n.transitAlphabet,"  = ",n.transitResult.map((g,f)=>e.jsxs("span",{children:[g,n.transitResult.length-1!==f&&", "]},f)),e.jsx("br",{}),n.startState&&`SS: ${n.startState}`,n.finalState&&`FS: ${n.finalState}`]},u))},r))})})},ne=()=>{const{fa:x,handleTransition:a}=m.useContext(q),{faStates:i,faAlphabets:r,faStartState:n,faFinalStates:u,transitionSets:g}=x;if(i.length>0||r.length>0)return e.jsxs("div",{className:"p-4 flex w-full border-2 rounded-tl-md rounded-tr-md border-blue-500 flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-semibold",children:"Transition Table"}),e.jsxs("ul",{className:"text-xs text-gray-500",children:[e.jsx("li",{children:"* The Header is the resulting state"}),e.jsx("li",{children:"* The check boxes are the alphabets for transition"})]})]}),e.jsxs(S,{children:[e.jsxs(S.Head,{children:[e.jsxs(S.HeadCell,{children:["Start and ",e.jsx("br",{})," Final States"]}),e.jsx(S.HeadCell,{children:"States"}),r==null?void 0:r.map((f,j)=>e.jsx(S.HeadCell,{children:f},j))]}),e.jsx(S.Body,{className:"divide-y",children:i==null?void 0:i.map((f,j)=>e.jsxs(S.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(S.Cell,{children:[f===n&&e.jsxs("span",{className:"whitespace-nowrap",children:["Start State: ",n," ",e.jsx("br",{})]}),u.length>0&&u.filter(A=>A===f).map((A,w)=>e.jsxs("div",{children:["Final State: ",A]},w))]}),e.jsx(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:f}),r==null?void 0:r.map((A,w)=>e.jsx(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:i==null?void 0:i.map((T,y)=>{var c;return e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:(c=g[j][w])==null?void 0:c.transitResult.includes(T),onChange:h=>{a(T,{row:j,transitState:f},{col:w,transitAlphabet:A},h)},type:"checkbox"}),e.jsx("label",{htmlFor:"",children:T})]},y)})},w))]},j))})]})]})},Ne=()=>{const{submitForm:x}=m.useContext(q);return e.jsxs("main",{className:"flex flex-col gap-4",children:[e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"h-full flex gap-4 w-full",children:e.jsxs("div",{className:"w-full grid grid-cols-4 gap-4",children:[e.jsx(se,{}),e.jsx(ae,{}),e.jsx(le,{}),e.jsx(re,{})]})}),e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx(ne,{}),e.jsx(te,{})]})]})}),e.jsx("button",{className:"transition duration-200 w-fit bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600",onClick:()=>{x()},children:"Submit"})]})},V=m.createContext(),ve=({children:x})=>{const[a,i]=m.useState([]),[r,n]=m.useState([]),[u,g]=m.useState(!1);let f=[];const[j,A]=m.useState(),[w,T]=m.useState({}),[y,c]=m.useState(Array.from({length:1},()=>Array.from({length:1},()=>"q0")));let h=[];const N=(s,t,o="q0")=>{c(Array.from({length:s},()=>Array.from({length:t},()=>o))),E({...v,transitions:Array.from({length:s},()=>Array.from({length:t},()=>o))})},z=(s,t,o)=>{let l=[...y];l[s][t]=o,c(l),E({...v,transitions:l})},[v,E]=m.useState({states:a,alphabets:r,startState:[],finalStates:[],amountState:a.length,amountAlphabet:r.length,transitions:y}),J=(s=1)=>{for(;a.length>0;)a.pop(),E({...v,states:a,amountState:a.length});for(let t=0;t<s;t++)i(a,a.push(`q${t}`)),E({...v,states:a,amountState:a.length})},W=(s=1)=>{for(;r.length>0;)r.pop(),E({...v,alphabets:r,amountAlphabet:r.length});for(let t=0;t<s;t++)n(r,r.push(`${t}`)),E({...v,alphabets:r,amountAlphabet:r.length})},Y=s=>{v.startState.pop();const{value:t}=s.target;v.startState.includes(t)||v.startState.push(t),E({...v})},Q=()=>{for(;h.length>0;)h.pop();for(let s=0;s<a.length;s++){const t={state:a[s],transition:y[s]};h.push(t)}},U=()=>{for(;f.length>0;)f.pop();let s=[],t=0,o,l;for(;t<a.length;){if(!v.startState.includes(a[t])){for(o=0;o<h.length;o++)if(a[t]!==h[o].state){for(l=0;l<r.length;l++)if(a[t]==h[o].transition[l]){o=a.length;break}}o===a.length&&l===r.length&&s.push(a[t])}t++}let d=[];h.map(b=>{s.includes(b.state)||d.push(b)}),h=d;let p=[];a.map(b=>{s.includes(b)||p.push(b)}),i(p),f=p},P=[],C=[],B=[],R=[],X=()=>{for(;B.length>0;)B.pop();for(let s=0;s<f.length;s++)for(let t=1;t<f.length;t++)f[s]!==f[t]&&s!==t&&(M(B,f[s],f[t])||B.push([f[s],f[t]]))};function Z(s,t){return!!(v.finalStates.includes(s)^v.finalStates.includes(t))}function H(s,t){return h.find(o=>o.state===s).transition[`${t}`]}function _(){for(;C.length>0;)C.pop()}function $(){let s=!1;C.map(t=>{for(let o=0;o<r.length;o++)if(M(P,H(t[0],o),H(t[1],o))){P.push([t[0],t[1]]),s=!0;break}}),_(),B.map(t=>{M(P,t[0],t[1])||C.push([t[0],t[1]])}),s&&$()}function k(){for(;P.length>0;)P.pop()}function M(s,t,o){let l=0;for(;l<s.length&&!(s[l][0]+s[l][1]===t+o||s[l][0]+s[l][1]===o+t);)l++;return l!==s.length}const O=()=>{for(U(),X(),k(),_(),B.map(d=>{Z(d[0],d[1])?P.push([d[0],d[1]]):C.push([d[0],d[1]])}),$();R.length>0;)R.pop();let s=0,t=[];for(;s<f.length;){let d=0;if(!t.includes(f[s])){for(d=0;d<C.length&&!(f[s]===C[d][0]||f[s]===C[d][1]);d++);if(d===C.length){let p=[];for(let F=0;F<r.length;F++)p.push(H(f[s],F));let b={state:f[s],transitionTable:p};R.push(b)}else for(let p=0;p<2;p++)t.includes(C[d][p])||t.push(C[d][p])}s++}let o=[],l=0;for(;l<t.length;){let d=!1;for(let p=0;p<o.length;p++)if(o[p].includes(t[l])){d=!0;break}if(!d){let p=[];for(let b=0;b<C.length;b++)if(C[b].includes(t[l]))for(let F=0;F<2;F++)p.includes(C[b][F])||p.push(C[b][F]);o.push(p)}l++}for(let d=0;d<o.length;d++){let p=[];for(let F=0;F<r.length;F++)p.push(H(o[d][0],F));let b={state:o[d],transitionTable:p};R.push(b)}A(R)},K=()=>{Q(),O()},ee=s=>{const{value:t,checked:o}=s.target;if(o)v.finalStates.includes(t)||v.finalStates.push(t);else{const l=v.finalStates.indexOf(t);v.finalStates.splice(l,1)}E({...v})};return e.jsx(V.Provider,{value:{newStates:f,states:a,setStates:i,alphabets:r,setAlphabets:n,generateStates:J,generateAlphabets:W,setDfa:E,dfa:v,handleStartState:Y,handleFinalState:ee,transitionTable:y,setTransitionTable:c,handleTransistionTable:z,initializeTransitionTable:N,transitions:h,handleSubmit:K,handleTransitions:Q,findInaccessibleState:U,minimizedTransistionTable:R,showModal:u,setShowModal:g,error:w,setError:T,minimizedResult:j,setMinimizeResult:A},children:x})},we=()=>{const{states:x,alphabets:a,handleTransistionTable:i}=m.useContext(V);return e.jsxs("div",{className:"p-4 flex w-full rounded-tl-md rounded-tr-md  flex-col gap-2 bg-gray-200",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-semibold",children:"Transition Table"}),e.jsxs("ul",{className:"text-xs text-gray-500",children:[e.jsx("li",{children:"* The Header is the set of alphabets for transition"}),e.jsx("li",{children:"* The select box is the resulting state"})]})]}),e.jsxs(S,{children:[e.jsxs(S.Head,{children:[e.jsx(S.HeadCell,{children:"States"}),a==null?void 0:a.map((r,n)=>e.jsx(S.HeadCell,{children:r},n))]}),e.jsx(S.Body,{className:"divide-y",children:x==null?void 0:x.map((r,n)=>e.jsxs(S.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:r}),a==null?void 0:a.map((u,g)=>e.jsx(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:e.jsx("select",{name:"transition",id:"transition",onChange:f=>{i(n,g,f.target.value)},children:x==null?void 0:x.map((f,j)=>e.jsx("option",{value:f,children:f},j))})},g))]},n))})]})]})},ye=()=>{const{minimizedResult:x,alphabets:a,dfa:i}=m.useContext(V);return e.jsx("div",{children:e.jsxs(S,{children:[e.jsxs(S.Head,{children:[e.jsx(S.HeadCell,{children:"States"}),a==null?void 0:a.map((r,n)=>e.jsx(S.HeadCell,{children:r},n))]}),e.jsx(S.Body,{className:"divide-y",children:x==null?void 0:x.map((r,n)=>e.jsxs(S.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white flex",children:[e.jsxs("div",{children:[i.finalStates.includes(r.state)&&"Final State: ",i.startState.includes(r.state)&&"Start State: "]}),e.jsxs("div",{children:["[ ",r.state," ]"]})]}),a==null?void 0:a.map((u,g)=>e.jsx(S.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:r.transitionTable[u]},g))]},n))})]})})},Ce=()=>{const{showModal:x,setShowModal:a}=m.useContext(V);if(x)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e.jsx("div",{className:"relative w-auto my-6 mx-auto min-w-[500px] max-w-3xl",children:e.jsxs("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[e.jsx("div",{className:"flex items-start justify-center p-5 border-b border-solid border-slate-200 rounded-t",children:e.jsx("h3",{className:"text-3xl font-semibold",children:"Minimization Result"})}),e.jsx("div",{children:e.jsx(ye,{})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-solid border-slate-200 rounded-b",children:e.jsx("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:i=>{a(!1),location.reload()},children:"Close"})})]})})}),e.jsx("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})},Ae=()=>{var T,y,c;const{generateStates:x,states:a,dfa:i,generateAlphabets:r,alphabets:n,handleStartState:u,handleFinalState:g,initializeTransitionTable:f,handleSubmit:j,setShowModal:A}=m.useContext(V),{setNavBarSelect:w}=m.useContext(D);return m.useEffect(()=>{w("Minimize DFA")}),m.useEffect(()=>{r(),x()},[]),e.jsxs("main",{className:"flex flex-col gap-4",children:[e.jsx("section",{className:"w-full",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx("div",{className:"h-full flex gap-4 w-full",children:e.jsxs("div",{className:"w-full grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex gap-1 items-center",htmlFor:"state",children:[e.jsx("span",{children:"State:"}),e.jsx("input",{min:1,defaultValue:1,type:"number",required:!0,max:5,onChange:h=>{x(h.target.value),f(h.target.value,n.length)},className:"border-2 border-blue-500 px-2 py-1 w-full",id:"state",placeholder:"Number of States..."})]}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{children:["Your States ["," ",a==null?void 0:a.map((h,N)=>e.jsxs("span",{children:[h,a.length-1!==N&&", "]},N))," ","]"]})})]}),e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex items-center gap-1",htmlFor:"alphabet",children:[e.jsx("span",{children:"Alphabet:"}),e.jsx("input",{required:!0,min:"1",defaultValue:"1",onChange:h=>{r(h.target.value),f(a.length,h.target.value)},max:"5",type:"number",id:"alphabet",placeholder:"Number of Alphabets",className:"border-2 border-blue-500 px-2 py-1 w-full"})]}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{children:["Your Alphabets: ["," ",n==null?void 0:n.map((h,N)=>e.jsxs("span",{children:[" ",h,n.length-1!==N&&", "]},N))," ","]"]})})]}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{children:"Start State"}),a==null?void 0:a.map((h,N)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"checkbox",onChange:z=>{u(z)},checked:(i==null?void 0:i.startState[0])==h,value:h,id:h}),e.jsx("label",{htmlFor:h,children:h})]},N))]}),e.jsxs("div",{children:["Your Start State:"," ",(T=i.startState)==null?void 0:T.map((h,N)=>e.jsxs("span",{children:[h,i.startState.length-1!==N&&", "]},N))]})]}),e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsx("div",{children:"Final State"}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:a==null?void 0:a.map((h,N)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"checkbox",onChange:z=>{g(z)},value:h,id:h}),e.jsx("label",{htmlFor:h,children:h})]},N))}),e.jsxs("div",{children:[((y=i.finalStates)==null?void 0:y.length)>0&&"Your Final State: ",(c=i.finalStates)==null?void 0:c.map((h,N)=>e.jsxs("span",{children:[h,i.finalStates.length-1!==N&&", "]},N))]})]})]})]})})})}),e.jsx(we,{}),e.jsx(Ce,{}),e.jsx("button",{className:"transition duration-200 w-fit bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600",onClick:h=>{h.stopPropagation(),h.preventDefault(),j(),A(!0)},children:"Submit"})]})},L=()=>e.jsxs("div",{children:[e.jsx("p",{children:"An error has occurred"}),e.jsx("a",{href:"/AutomataMidterm/",children:"Back home"})]}),Ee=()=>{const{setNavBarSelect:x}=m.useContext(D),{fa:a,nfa:i}=m.useContext(q),{faStates:r,faAlphabets:n,faStartState:u,faFinalStates:g}=a;return m.useEffect(()=>{x("Classify FA")}),e.jsxs("main",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"flex flex-col gap-2 w-1/2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Your States Q: "}),e.jsx("p",{children:r==null?void 0:r.map((f,j)=>e.jsxs("span",{children:[f," ",r.length-1!==j&&", "]},j))})]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Your Alphabets: "}),e.jsx("p",{children:n==null?void 0:n.map((f,j)=>e.jsxs("span",{children:[f,n.length-1!==j&&", "]},j))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Start State:"})," ",u]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Final state:  "}),e.jsx("p",{children:g==null?void 0:g.map((f,j)=>e.jsxs("span",{children:[f,g.length-1!==j&&", "]},j))})]}),e.jsx("div",{className:"bg-blue-950 rounded-md px-12 py-2 text-white",children:e.jsx("span",{children:`This is ${i?"an NFA":"a DFA"}`})})]}),e.jsx("section",{className:"",children:e.jsx(te,{})})]})},Fe=()=>{const{setNavBarSelect:x}=m.useContext(D),a=m.useRef(null);m.useEffect(()=>{var c;x("Validate String"),window.scrollTo({behavior:"smooth",top:0}),(c=a.current)==null||c.focus()});const{nfa:i,error:r,handleString:n,inputString:u,validateDFA:g,validateNFA:f,isAccepted:j}=m.useContext(q),[A,w]=m.useState(!1),[T,y]=m.useState(!1);return e.jsx("main",{className:"flex flex-col w-full gap-4",children:e.jsxs("section",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"flex items-center",children:[e.jsx("div",{className:"flex flex-col gap-1 pr-4",children:e.jsxs("div",{className:"w-fit flex items-center gap-2",children:[e.jsx("label",{htmlFor:"",children:"Input String: "}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{className:"py-1",ref:a,onKeyDown:({key:c})=>{c==="Enter"&&(i?f(u,[]):g())},value:u,onChange:n,type:"text",placeholder:"Enter string..."}),e.jsx("span",{className:`${!r.stringError&&"hidden"} text-red-500 text-xs`,children:r&&r.stringError})]}),e.jsx("button",{onClick:c=>{i?f(u,[]):g()},className:"bg-blue-300 text-blue-500 px-6 py-1 rounded-md",children:"submit"})]})}),u.length>0&&e.jsx("div",{className:"border-blue-500 border-l-2 pl-4",children:e.jsxs("span",{className:"font-semibold",children:[u," is ",j?"accepted":"not accepted"]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(te,{}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:c=>{c.stopPropagation(),w(!A)},className:"transition duration-200 bg-slate-500 w-fit px-8 py-2 rounded-[20px] text-white text-opacity-70 hover:bg-slate-600",children:"Toggle transition table"}),e.jsx("button",{onClick:c=>{c.stopPropagation(),y(!T)},className:"transition duration-200 bg-slate-500 w-fit px-8 py-2 rounded-[20px] text-white text-opacity-70 hover:bg-slate-600",children:"Toggle FA set"})]}),A&&e.jsx(ne,{})]}),T&&e.jsxs("div",{className:"grid grid-cols-4 gap-4 w-full",children:[e.jsx(se,{}),e.jsx(ae,{}),e.jsx(le,{}),e.jsx(re,{})]})]})})},Te=de([{path:"/AutomataMidterm/",element:e.jsx(be,{}),children:[{path:"/AutomataMidterm/",element:e.jsx(Ne,{}),errorElement:e.jsx(L,{})},{path:"/AutomataMidterm/minimized",element:e.jsx(Ae,{}),errorElement:e.jsx(L,{})},{path:"/AutomataMidterm/classify",element:e.jsx(Ee,{}),errorElement:e.jsx(L,{})},{path:"/AutomataMidterm/validate",element:e.jsx(Fe,{}),errorElement:e.jsx(L,{})},{path:"*",element:e.jsx(L,{})}]}]);G(document).on("focus","input[type=number]",function(x){G(this).on("wheel.disableScroll",function(a){a.preventDefault()})});G("form").on("blur","input[type=number]",function(x){G(this).off("wheel.disableScroll")});const ke=new xe;oe.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(me,{client:ke,children:e.jsx(pe,{children:e.jsx(Se,{children:e.jsx(ve,{children:e.jsx(fe,{router:Te})})})})})}));
