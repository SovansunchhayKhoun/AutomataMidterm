import{r as f,R as Nt}from"./react-e3f22801.js";import{r as rn}from"./react-dom-ca9bc2d4.js";import{s as on,h as sn,a as cn}from"./aria-hidden-318acb9e.js";import{t as _t}from"./tabbable-6ab97b54.js";function ce(e){return e.split("-")[1]}function ct(e){return e==="y"?"height":"width"}function pe(e){return e.split("-")[0]}function Se(e){return["top","bottom"].includes(pe(e))?"x":"y"}function gt(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,s=Se(t),c=ct(s),p=r[c]/2-o[c]/2,b=s==="x";let d;switch(pe(t)){case"top":d={x:i,y:r.y-o.height};break;case"bottom":d={x:i,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:u};break;case"left":d={x:r.x-o.width,y:u};break;default:d={x:r.x,y:r.y}}switch(ce(t)){case"start":d[s]-=p*(n&&b?-1:1);break;case"end":d[s]+=p*(n&&b?-1:1)}return d}const un=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:u}=n,s=i.filter(Boolean),c=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:b,y:d}=gt(p,r,c),v=r,l={},y=0;for(let g=0;g<s.length;g++){const{name:R,fn:x}=s[g],{x:w,y:D,data:P,reset:O}=await x({x:b,y:d,initialPlacement:r,placement:v,strategy:o,middlewareData:l,rects:p,platform:u,elements:{reference:e,floating:t}});b=w??b,d=D??d,l={...l,[R]:{...l[R],...P}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(p=O.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:b,y:d}=gt(p,v,c)),g=-1)}return{x:b,y:d,placement:v,strategy:o,middlewareData:l}};function Me(e,t){return typeof e=="function"?e(t):e}function $t(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function He(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ut(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:u,elements:s,strategy:c}=e,{boundary:p="clippingAncestors",rootBoundary:b="viewport",elementContext:d="floating",altBoundary:v=!1,padding:l=0}=Me(t,e),y=$t(l),g=s[v?d==="floating"?"reference":"floating":d],R=He(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:p,rootBoundary:b,strategy:c})),x=d==="floating"?{...u.floating,x:r,y:o}:u.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),D=await(i.isElement==null?void 0:i.isElement(w))&&await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1},P=He(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:c}):x);return{top:(R.top-P.top+y.top)/D.y,bottom:(P.bottom-R.bottom+y.bottom)/D.y,left:(R.left-P.left+y.left)/D.x,right:(P.right-R.right+y.right)/D.x}}const rt=Math.min,ln=Math.max;function ot(e,t,n){return ln(e,rt(t,n))}const ht=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:u,elements:s}=t,{element:c,padding:p=0}=Me(e,t)||{};if(c==null)return{};const b=$t(p),d={x:n,y:r},v=Se(o),l=ct(v),y=await u.getDimensions(c),g=v==="y",R=g?"top":"left",x=g?"bottom":"right",w=g?"clientHeight":"clientWidth",D=i.reference[l]+i.reference[v]-d[v]-i.floating[l],P=d[v]-i.reference[v],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(c));let E=O?O[w]:0;E&&await(u.isElement==null?void 0:u.isElement(O))||(E=s.floating[w]||i.floating[l]);const _=D/2-P/2,L=E/2-y[l]/2-1,k=rt(b[R],L),C=rt(b[x],L),T=k,m=E-y[l]-C,h=E/2-y[l]/2+_,a=ot(T,h,m),M=ce(o)!=null&&h!=a&&i.reference[l]/2-(h<T?k:C)-y[l]/2<0?h<T?T-h:m-h:0;return{[v]:d[v]-M,data:{[v]:a,centerOffset:h-a+M}}}}),an=["top","right","bottom","left"],yt=an.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),fn={left:"right",right:"left",bottom:"top",top:"bottom"};function Ve(e){return e.replace(/left|right|bottom|top/g,t=>fn[t])}function Kt(e,t,n){n===void 0&&(n=!1);const r=ce(e),o=Se(e),i=ct(o);let u=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(u=Ve(u)),{main:u,cross:Ve(u)}}const dn={start:"end",end:"start"};function $e(e){return e.replace(/start|end/g,t=>dn[t])}const Qn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:u,placement:s,platform:c,elements:p}=t,{crossAxis:b=!1,alignment:d,allowedPlacements:v=yt,autoAlignment:l=!0,...y}=Me(e,t),g=d!==void 0||v===yt?function(C,T,m){return(C?[...m.filter(h=>ce(h)===C),...m.filter(h=>ce(h)!==C)]:m.filter(h=>pe(h)===h)).filter(h=>!C||ce(h)===C||!!T&&$e(h)!==h)}(d||null,l,v):v,R=await ut(t,y),x=((n=u.autoPlacement)==null?void 0:n.index)||0,w=g[x];if(w==null)return{};const{main:D,cross:P}=Kt(w,i,await(c.isRTL==null?void 0:c.isRTL(p.floating)));if(s!==w)return{reset:{placement:g[0]}};const O=[R[pe(w)],R[D],R[P]],E=[...((r=u.autoPlacement)==null?void 0:r.overflows)||[],{placement:w,overflows:O}],_=g[x+1];if(_)return{data:{index:x+1,overflows:E},reset:{placement:_}};const L=E.map(C=>{const T=ce(C.placement);return[C.placement,T&&b?C.overflows.slice(0,2).reduce((m,h)=>m+h,0):C.overflows[0],C.overflows]}).sort((C,T)=>C[1]-T[1]),k=((o=L.filter(C=>C[2].slice(0,ce(C[0])?2:3).every(T=>T<=0))[0])==null?void 0:o[0])||L[0][0];return k!==s?{data:{index:x+1,overflows:E},reset:{placement:k}}:{}}}},Zn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:u,platform:s,elements:c}=t,{mainAxis:p=!0,crossAxis:b=!0,fallbackPlacements:d,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:l="none",flipAlignment:y=!0,...g}=Me(e,t),R=pe(r),x=pe(u)===u,w=await(s.isRTL==null?void 0:s.isRTL(c.floating)),D=d||(x||!y?[Ve(u)]:function(T){const m=Ve(T);return[$e(T),m,$e(m)]}(u));d||l==="none"||D.push(...function(T,m,h,a){const M=ce(T);let I=function(F,S,z){const Y=["left","right"],$=["right","left"],V=["top","bottom"],K=["bottom","top"];switch(F){case"top":case"bottom":return z?S?$:Y:S?Y:$;case"left":case"right":return S?V:K;default:return[]}}(pe(T),h==="start",a);return M&&(I=I.map(F=>F+"-"+M),m&&(I=I.concat(I.map($e)))),I}(u,y,l,w));const P=[u,...D],O=await ut(t,g),E=[];let _=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&E.push(O[R]),b){const{main:T,cross:m}=Kt(r,i,w);E.push(O[T],O[m])}if(_=[..._,{placement:r,overflows:E}],!E.every(T=>T<=0)){var L,k;const T=(((L=o.flip)==null?void 0:L.index)||0)+1,m=P[T];if(m)return{data:{index:T,overflows:_},reset:{placement:m}};let h=(k=_.filter(a=>a.overflows[0]<=0).sort((a,M)=>a.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!h)switch(v){case"bestFit":{var C;const a=(C=_.map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:C[0];a&&(h=a);break}case"initialPlacement":h=u}if(r!==h)return{reset:{placement:h}}}return{}}}},er=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(i,u){const{placement:s,platform:c,elements:p}=i,b=await(c.isRTL==null?void 0:c.isRTL(p.floating)),d=pe(s),v=ce(s),l=Se(s)==="x",y=["left","top"].includes(d)?-1:1,g=b&&l?-1:1,R=Me(u,i);let{mainAxis:x,crossAxis:w,alignmentAxis:D}=typeof R=="number"?{mainAxis:R,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...R};return v&&typeof D=="number"&&(w=v==="end"?-1*D:D),l?{x:w*g,y:x*y}:{x:x*y,y:w*g}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function mn(e){return e==="x"?"y":"x"}const tr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:u=!1,limiter:s={fn:R=>{let{x,y:w}=R;return{x,y:w}}},...c}=Me(e,t),p={x:n,y:r},b=await ut(t,c),d=Se(pe(o)),v=mn(d);let l=p[d],y=p[v];if(i){const R=d==="y"?"bottom":"right";l=ot(l+b[d==="y"?"top":"left"],l,l-b[R])}if(u){const R=v==="y"?"bottom":"right";y=ot(y+b[v==="y"?"top":"left"],y,y-b[R])}const g=s.fn({...t,[d]:l,[v]:y});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function oe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function le(e){return oe(e).getComputedStyle(e)}function Bt(e){return e instanceof oe(e).Node}function ve(e){return Bt(e)?(e.nodeName||"").toLowerCase():"#document"}function se(e){return e instanceof HTMLElement||e instanceof oe(e).HTMLElement}function vt(e){return typeof ShadowRoot<"u"&&(e instanceof oe(e).ShadowRoot||e instanceof ShadowRoot)}function De(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=le(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function pn(e){return["table","td","th"].includes(ve(e))}function it(e){const t=lt(),n=le(e);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lt(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ye(e){return["html","body","#document"].includes(ve(e))}const st=Math.min,Ee=Math.max,We=Math.round,Ne=Math.floor,be=e=>({x:e,y:e});function Ht(e){const t=le(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=se(e),i=o?e.offsetWidth:n,u=o?e.offsetHeight:r,s=We(n)!==i||We(r)!==u;return s&&(n=i,r=u),{width:n,height:r,$:s}}function ge(e){return e instanceof Element||e instanceof oe(e).Element}function at(e){return ge(e)?e:e.contextElement}function Te(e){const t=at(e);if(!se(t))return be(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Ht(t);let u=(i?We(n.width):n.width)/r,s=(i?We(n.height):n.height)/o;return u&&Number.isFinite(u)||(u=1),s&&Number.isFinite(s)||(s=1),{x:u,y:s}}const gn=be(0);function Vt(e){const t=oe(e);return lt()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:gn}function xe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=at(e);let u=be(1);t&&(r?ge(r)&&(u=Te(r)):u=Te(e));const s=function(v,l,y){return l===void 0&&(l=!1),!(!y||l&&y!==oe(v))&&l}(i,n,r)?Vt(i):be(0);let c=(o.left+s.x)/u.x,p=(o.top+s.y)/u.y,b=o.width/u.x,d=o.height/u.y;if(i){const v=oe(i),l=r&&ge(r)?oe(r):r;let y=v.frameElement;for(;y&&r&&l!==v;){const g=Te(y),R=y.getBoundingClientRect(),x=getComputedStyle(y),w=R.left+(y.clientLeft+parseFloat(x.paddingLeft))*g.x,D=R.top+(y.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,p*=g.y,b*=g.x,d*=g.y,c+=w,p+=D,y=oe(y).frameElement}}return He({width:b,height:d,x:c,y:p})}function Ue(e){return ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function he(e){var t;return(t=(Bt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wt(e){return xe(he(e)).left+Ue(e).scrollLeft}function Ie(e){if(ve(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vt(e)&&e.host||he(e);return vt(t)?t.host:t}function zt(e){const t=Ie(e);return Ye(t)?e.ownerDocument?e.ownerDocument.body:e.body:se(t)&&De(t)?t:zt(t)}function we(e,t){var n;t===void 0&&(t=[]);const r=zt(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=oe(r);return o?t.concat(i,i.visualViewport||[],De(r)?r:[]):t.concat(r,we(r))}function bt(e,t,n){let r;if(t==="viewport")r=function(o,i){const u=oe(o),s=he(o),c=u.visualViewport;let p=s.clientWidth,b=s.clientHeight,d=0,v=0;if(c){p=c.width,b=c.height;const l=lt();(!l||l&&i==="fixed")&&(d=c.offsetLeft,v=c.offsetTop)}return{width:p,height:b,x:d,y:v}}(e,n);else if(t==="document")r=function(o){const i=he(o),u=Ue(o),s=o.ownerDocument.body,c=Ee(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),p=Ee(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let b=-u.scrollLeft+Wt(o);const d=-u.scrollTop;return le(s).direction==="rtl"&&(b+=Ee(i.clientWidth,s.clientWidth)-c),{width:c,height:p,x:b,y:d}}(he(e));else if(ge(t))r=function(o,i){const u=xe(o,!0,i==="fixed"),s=u.top+o.clientTop,c=u.left+o.clientLeft,p=se(o)?Te(o):be(1);return{width:o.clientWidth*p.x,height:o.clientHeight*p.y,x:c*p.x,y:s*p.y}}(t,n);else{const o=Vt(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return He(r)}function jt(e,t){const n=Ie(e);return!(n===t||!ge(n)||Ye(n))&&(le(n).position==="fixed"||jt(n,t))}function hn(e,t,n){const r=se(t),o=he(t),i=n==="fixed",u=xe(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const c=be(0);if(r||!r&&!i)if((ve(t)!=="body"||De(o))&&(s=Ue(t)),se(t)){const p=xe(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&(c.x=Wt(o));return{x:u.left+s.scrollLeft-c.x,y:u.top+s.scrollTop-c.y,width:u.width,height:u.height}}function wt(e,t){return se(e)&&le(e).position!=="fixed"?t?t(e):e.offsetParent:null}function xt(e,t){const n=oe(e);if(!se(e))return n;let r=wt(e,t);for(;r&&pn(r)&&le(r).position==="static";)r=wt(r,t);return r&&(ve(r)==="html"||ve(r)==="body"&&le(r).position==="static"&&!it(r))?n:r||function(o){let i=Ie(o);for(;se(i)&&!Ye(i);){if(it(i))return i;i=Ie(i)}return null}(e)||n}const yn={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=se(n),i=he(n);if(n===i)return t;let u={scrollLeft:0,scrollTop:0},s=be(1);const c=be(0);if((o||!o&&r!=="fixed")&&((ve(n)!=="body"||De(i))&&(u=Ue(n)),se(n))){const p=xe(n);s=Te(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-u.scrollLeft*s.x+c.x,y:t.y*s.y-u.scrollTop*s.y+c.y}},getDocumentElement:he,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?function(c,p){const b=p.get(c);if(b)return b;let d=we(c).filter(g=>ge(g)&&ve(g)!=="body"),v=null;const l=le(c).position==="fixed";let y=l?Ie(c):c;for(;ge(y)&&!Ye(y);){const g=le(y),R=it(y);R||g.position!=="fixed"||(v=null),(l?!R&&!v:!R&&g.position==="static"&&v&&["absolute","fixed"].includes(v.position)||De(y)&&!R&&jt(c,y))?d=d.filter(x=>x!==y):v=g,y=Ie(y)}return p.set(c,d),d}(t,this._c):[].concat(n),r],u=i[0],s=i.reduce((c,p)=>{const b=bt(t,p,o);return c.top=Ee(b.top,c.top),c.right=st(b.right,c.right),c.bottom=st(b.bottom,c.bottom),c.left=Ee(b.left,c.left),c},bt(t,u,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:xt,getElementRects:async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||xt,i=this.getDimensions;return{reference:hn(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return Ht(e)},getScale:Te,isElement:ge,isRTL:function(e){return getComputedStyle(e).direction==="rtl"}};function nr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,p=at(e),b=o||i?[...p?we(p):[],...we(t)]:[];b.forEach(R=>{o&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const d=p&&s?function(R,x){let w,D=null;const P=he(R);function O(){clearTimeout(w),D&&D.disconnect(),D=null}return function E(_,L){_===void 0&&(_=!1),L===void 0&&(L=1),O();const{left:k,top:C,width:T,height:m}=R.getBoundingClientRect();if(_||x(),!T||!m)return;const h={rootMargin:-Ne(C)+"px "+-Ne(P.clientWidth-(k+T))+"px "+-Ne(P.clientHeight-(C+m))+"px "+-Ne(k)+"px",threshold:Ee(0,st(1,L))||1};let a=!0;function M(I){const F=I[0].intersectionRatio;if(F!==L){if(!a)return E();F?E(!1,F):w=setTimeout(()=>{E(!1,1e-7)},100)}a=!1}try{D=new IntersectionObserver(M,{...h,root:P.ownerDocument})}catch{D=new IntersectionObserver(M,h)}D.observe(R)}(!0),O}(p,n):null;let v,l=-1,y=null;u&&(y=new ResizeObserver(R=>{let[x]=R;x&&x.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{y&&y.observe(t)})),n()}),p&&!c&&y.observe(p),y.observe(t));let g=c?xe(e):null;return c&&function R(){const x=xe(e);!g||x.x===g.x&&x.y===g.y&&x.width===g.width&&x.height===g.height||n(),g=x,v=requestAnimationFrame(R)}(),n(),()=>{b.forEach(R=>{o&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),d&&d(),y&&y.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const vn=(e,t,n)=>{const r=new Map,o={platform:yn,...n},i={...o.platform,_c:r};return un(e,t,{...o,platform:i})},rr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ht({element:r.current,padding:o}).fn(n):{}:r?ht({element:r,padding:o}).fn(n):{}}}};var Ke=typeof document<"u"?f.useLayoutEffect:f.useEffect;function ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ze(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ze(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function qt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rt(e,t){const n=qt(e);return Math.round(t*n)/n}function Et(e){const t=f.useRef(e);return Ke(()=>{t.current=e}),t}function bn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:u}={},transform:s=!0,whileElementsMounted:c,open:p}=e,[b,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,l]=f.useState(r);ze(v,r)||l(r);const[y,g]=f.useState(null),[R,x]=f.useState(null),w=f.useCallback(I=>{I!=E.current&&(E.current=I,g(I))},[g]),D=f.useCallback(I=>{I!==_.current&&(_.current=I,x(I))},[x]),P=i||y,O=u||R,E=f.useRef(null),_=f.useRef(null),L=f.useRef(b),k=Et(c),C=Et(o),T=f.useCallback(()=>{if(!E.current||!_.current)return;const I={placement:t,strategy:n,middleware:v};C.current&&(I.platform=C.current),vn(E.current,_.current,I).then(F=>{const S={...F,isPositioned:!0};m.current&&!ze(L.current,S)&&(L.current=S,rn.flushSync(()=>{d(S)}))})},[v,t,n,C]);Ke(()=>{p===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[p]);const m=f.useRef(!1);Ke(()=>(m.current=!0,()=>{m.current=!1}),[]),Ke(()=>{if(P&&(E.current=P),O&&(_.current=O),P&&O){if(k.current)return k.current(P,O,T);T()}},[P,O,T,k]);const h=f.useMemo(()=>({reference:E,floating:_,setReference:w,setFloating:D}),[w,D]),a=f.useMemo(()=>({reference:P,floating:O}),[P,O]),M=f.useMemo(()=>{const I={position:n,left:0,top:0};if(!a.floating)return I;const F=Rt(a.floating,b.x),S=Rt(a.floating,b.y);return s?{...I,transform:"translate("+F+"px, "+S+"px)",...qt(a.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:S}},[n,s,a.floating,b.x,b.y]);return f.useMemo(()=>({...b,update:T,refs:h,elements:a,floatingStyles:M}),[b,T,h,a,M])}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var G=typeof document<"u"?f.useLayoutEffect:f.useEffect;let Qe=!1,wn=0;const Tt=()=>"floating-ui-"+wn++;function xn(){const[e,t]=f.useState(()=>Qe?Tt():void 0);return G(()=>{e==null&&t(Tt())},[]),f.useEffect(()=>{Qe||(Qe=!0)},[]),e}const Rn=Nt["useId".toString()],Yt=Rn||xn;function En(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Tn=f.createContext(null),Pn=f.createContext(null),ft=()=>{var e;return((e=f.useContext(Tn))==null?void 0:e.id)||null},Fe=()=>f.useContext(Pn);function re(e){return(e==null?void 0:e.ownerDocument)||document}function Ut(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Cn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Xe(e){return re(e).defaultView||window}function ie(e){return e?e instanceof Element||e instanceof Xe(e).Element:!1}function Re(e){return e?e instanceof HTMLElement||e instanceof Xe(e).HTMLElement:!1}function In(e){if(typeof ShadowRoot>"u")return!1;const t=Xe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Xt(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Ut())||t.test(Cn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Gt(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Jt(){return/apple/i.test(navigator.vendor)}function On(){return Ut().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function qe(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Mn(e){return"nativeEvent"in e}function J(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&In(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Pe(e){return"data-floating-ui-"+e}function ue(e){const t=f.useRef(e);return G(()=>{t.current=e}),t}const Pt=Pe("safe-polygon");function Ze(e,t,n){return n&&!qe(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function or(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:u,floating:s},refs:c}=e,{enabled:p=!0,delay:b=0,handleClose:d=null,mouseOnly:v=!1,restMs:l=0,move:y=!0}=t,g=Fe(),R=ft(),x=ue(d),w=ue(b),D=f.useRef(),P=f.useRef(),O=f.useRef(),E=f.useRef(),_=f.useRef(!0),L=f.useRef(!1),k=f.useRef(()=>{}),C=f.useCallback(()=>{var a;const M=(a=o.current.openEvent)==null?void 0:a.type;return(M==null?void 0:M.includes("mouse"))&&M!=="mousedown"},[o]);f.useEffect(()=>{if(!p)return;function a(){clearTimeout(P.current),clearTimeout(E.current),_.current=!0}return i.on("dismiss",a),()=>{i.off("dismiss",a)}},[p,i]),f.useEffect(()=>{if(!p||!x.current||!n)return;function a(I){C()&&r(!1,I)}const M=re(s).documentElement;return M.addEventListener("mouseleave",a),()=>{M.removeEventListener("mouseleave",a)}},[s,n,r,p,x,o,C]);const T=f.useCallback(function(a,M){M===void 0&&(M=!0);const I=Ze(w.current,"close",D.current);I&&!O.current?(clearTimeout(P.current),P.current=setTimeout(()=>r(!1,a),I)):M&&(clearTimeout(P.current),r(!1,a))},[w,r]),m=f.useCallback(()=>{k.current(),O.current=void 0},[]),h=f.useCallback(()=>{if(L.current){const a=re(c.floating.current).body;a.style.pointerEvents="",a.removeAttribute(Pt),L.current=!1}},[c]);return f.useEffect(()=>{if(!p)return;function a(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function M(S){if(clearTimeout(P.current),_.current=!1,v&&!qe(D.current)||l>0&&Ze(w.current,"open")===0)return;const z=Ze(w.current,"open",D.current);z?P.current=setTimeout(()=>{r(!0,S)},z):r(!0,S)}function I(S){if(a())return;k.current();const z=re(s);if(clearTimeout(E.current),x.current){n||clearTimeout(P.current),O.current=x.current({...e,tree:g,x:S.clientX,y:S.clientY,onClose(){h(),m(),T(S)}});const $=O.current;z.addEventListener("mousemove",$),k.current=()=>{z.removeEventListener("mousemove",$)};return}(D.current==="touch"?!J(s,S.relatedTarget):!0)&&T(S)}function F(S){a()||x.current==null||x.current({...e,tree:g,x:S.clientX,y:S.clientY,onClose(){h(),m(),T(S)}})(S)}if(ie(u)){const S=u;return n&&S.addEventListener("mouseleave",F),s==null||s.addEventListener("mouseleave",F),y&&S.addEventListener("mousemove",M,{once:!0}),S.addEventListener("mouseenter",M),S.addEventListener("mouseleave",I),()=>{n&&S.removeEventListener("mouseleave",F),s==null||s.removeEventListener("mouseleave",F),y&&S.removeEventListener("mousemove",M),S.removeEventListener("mouseenter",M),S.removeEventListener("mouseleave",I)}}},[u,s,p,e,v,l,y,T,m,h,r,n,g,w,x,o]),G(()=>{var a;if(p&&n&&(a=x.current)!=null&&a.__options.blockPointerEvents&&C()){const F=re(s).body;if(F.setAttribute(Pt,""),F.style.pointerEvents="none",L.current=!0,ie(u)&&s){var M,I;const S=u,z=g==null||(M=g.nodesRef.current.find(Y=>Y.id===R))==null||(I=M.context)==null?void 0:I.elements.floating;return z&&(z.style.pointerEvents=""),S.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{S.style.pointerEvents="",s.style.pointerEvents=""}}}},[p,n,R,s,u,g,x,o,C]),G(()=>{n||(D.current=void 0,m(),h())},[n,m,h]),f.useEffect(()=>()=>{m(),clearTimeout(P.current),clearTimeout(E.current),h()},[p,m,h]),f.useMemo(()=>{if(!p)return{};function a(M){D.current=M.pointerType}return{reference:{onPointerDown:a,onPointerEnter:a,onMouseMove(M){n||l===0||(clearTimeout(E.current),E.current=setTimeout(()=>{_.current||r(!0,M.nativeEvent)},l))}},floating:{onMouseEnter(){clearTimeout(P.current)},onMouseLeave(M){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),T(M.nativeEvent,!1)}}}},[i,p,l,n,r,T])}function me(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let Ct=0;function de(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Ct);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Ct=requestAnimationFrame(i)}function Ln(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(u=>u.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ce(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(u=>{var s;return o.parentId===u.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function dt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const kn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Qt(e){return Re(e)&&e.matches(kn)}function ne(e){e.preventDefault(),e.stopPropagation()}const Zt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function en(e,t){const n=_t(e,Zt());t==="prev"&&n.reverse();const r=n.indexOf(me(re(e)));return n.slice(r+1)[0]}function Dn(){return en(document.body,"next")}function Sn(){return en(document.body,"prev")}function It(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!J(n,r)}const tn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Fn;function Ot(e){e.key==="Tab"&&(e.target,clearTimeout(Fn))}const Mt=f.forwardRef(function(t,n){const[r,o]=f.useState();G(()=>(Jt()&&o("button"),document.addEventListener("keydown",Ot),()=>{document.removeEventListener("keydown",Ot)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Pe("focus-guard")]:"",style:tn};return f.createElement("span",je({},t,i))}),An=f.createContext(null),Nn=()=>f.useContext(An),_n=f.forwardRef(function(t,n){return f.createElement("button",je({},t,{type:"button",ref:n,tabIndex:-1,style:tn}))});function ir(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:u=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:b=!0}=e,{open:d,refs:v,nodeId:l,onOpenChange:y,events:g,dataRef:R,elements:{domReference:x,floating:w}}=t,D=on()?i:!0,P=ue(o),O=ue(u),E=ue(s),_=Fe(),L=Nn(),k=typeof u=="number"&&u<0,C=f.useRef(null),T=f.useRef(null),m=f.useRef(!1),h=f.useRef(null),a=f.useRef(!1),M=L!=null,I=x&&x.getAttribute("role")==="combobox"&&Qt(x),F=f.useCallback(function($){return $===void 0&&($=w),$?_t($,Zt()):[]},[w]),S=f.useCallback($=>{const V=F($);return P.current.map(K=>x&&K==="reference"?x:w&&K==="floating"?w:V).filter(Boolean).flat()},[x,w,P,F]);f.useEffect(()=>{if(r||!c)return;function $(K){if(K.key==="Tab"){J(w,me(re(w)))&&F().length===0&&!I&&ne(K);const W=S(),U=dt(K);P.current[0]==="reference"&&U===x&&(ne(K),K.shiftKey?de(W[W.length-1]):de(W[1])),P.current[1]==="floating"&&U===w&&K.shiftKey&&(ne(K),de(W[0]))}}const V=re(w);return V.addEventListener("keydown",$),()=>{V.removeEventListener("keydown",$)}},[r,x,w,c,P,v,I,F,S]),f.useEffect(()=>{if(r||!b)return;function $(){a.current=!0,setTimeout(()=>{a.current=!1})}function V(K){const W=K.relatedTarget;queueMicrotask(()=>{const U=!(J(x,W)||J(w,W)||J(W,w)||J(L==null?void 0:L.portalNode,W)||W!=null&&W.hasAttribute(Pe("focus-guard"))||_&&(Ce(_.nodesRef.current,l).find(X=>{var N,B;return J((N=X.context)==null?void 0:N.elements.floating,W)||J((B=X.context)==null?void 0:B.elements.domReference,W)})||Ln(_.nodesRef.current,l).find(X=>{var N,B;return((N=X.context)==null?void 0:N.elements.floating)===W||((B=X.context)==null?void 0:B.elements.domReference)===W})));W&&U&&!a.current&&W!==h.current&&(m.current=!0,y(!1,K))})}if(w&&Re(x))return x.addEventListener("focusout",V),x.addEventListener("pointerdown",$),!c&&w.addEventListener("focusout",V),()=>{x.removeEventListener("focusout",V),x.removeEventListener("pointerdown",$),!c&&w.removeEventListener("focusout",V)}},[r,x,w,c,l,_,L,y,b]),f.useEffect(()=>{var $;if(r)return;const V=Array.from((L==null||($=L.portalNode)==null?void 0:$.querySelectorAll("["+Pe("portal")+"]"))||[]);if(w&&c){const K=[w,...V,C.current,T.current].filter(X=>X!=null),U=(D?sn:cn)(P.current.includes("reference")||I?K.concat(x||[]):K,void 0,Pe("inert"));return()=>{U()}}},[r,x,w,c,P,L,I,D]),G(()=>{if(r||!w)return;const $=re(w),V=me($);queueMicrotask(()=>{const K=S(w),W=O.current,U=(typeof W=="number"?K[W]:W.current)||w,X=J(w,V);!k&&!X&&d&&de(U,{preventScroll:U===w})})},[r,d,w,k,S,O]),G(()=>{if(r||!w)return;let $=!1;const V=re(w),K=me(V),W=R.current;h.current=K;function U(X){if(X.type==="escapeKey"&&v.domReference.current&&(h.current=v.domReference.current),["referencePress","escapeKey"].includes(X.type))return;const N=X.data.returnFocus;typeof N=="object"?(m.current=!1,$=N.preventScroll):m.current=!N}return g.on("dismiss",U),()=>{g.off("dismiss",U);const X=me(V);(J(w,X)||_&&Ce(_.nodesRef.current,l).some(B=>{var H;return J((H=B.context)==null?void 0:H.elements.floating,X)})||W.openEvent&&["click","mousedown"].includes(W.openEvent.type))&&v.domReference.current&&(h.current=v.domReference.current),E.current&&Re(h.current)&&!m.current&&de(h.current,{cancelPrevious:!1,preventScroll:$})}},[r,w,E,R,v,g,_,l]),G(()=>{if(!(r||!L))return L.setFocusManagerState({...t,modal:c,closeOnFocusOut:b,open:d}),()=>{L.setFocusManagerState(null)}},[r,L,c,d,b,t]),G(()=>{if(!r&&w&&typeof MutationObserver=="function"){const $=()=>{const K=w.getAttribute("tabindex");P.current.includes("floating")||me(re(w))!==v.domReference.current&&F().length===0?K!=="0"&&w.setAttribute("tabindex","0"):K!=="-1"&&w.setAttribute("tabindex","-1")};$();const V=new MutationObserver($);return V.observe(w,{childList:!0,subtree:!0,attributes:!0}),()=>{V.disconnect()}}},[r,w,v,P,F]);function z($){return r||!p||!c?null:f.createElement(_n,{ref:$==="start"?C:T,onClick:V=>y(!1,V.nativeEvent)},typeof p=="string"?p:"Dismiss")}const Y=!r&&D&&!I&&(M||c);return f.createElement(f.Fragment,null,Y&&f.createElement(Mt,{"data-type":"inside",ref:L==null?void 0:L.beforeInsideRef,onFocus:$=>{if(c){const K=S();de(o[0]==="reference"?K[0]:K[K.length-1])}else if(L!=null&&L.preserveTabOrder&&L.portalNode)if(m.current=!1,It($,L.portalNode)){const K=Dn()||x;K==null||K.focus()}else{var V;(V=L.beforeOutsideRef.current)==null||V.focus()}}}),!I&&z("start"),n,z("end"),Y&&f.createElement(Mt,{"data-type":"inside",ref:L==null?void 0:L.afterInsideRef,onFocus:$=>{if(c)de(S()[0]);else if(L!=null&&L.preserveTabOrder&&L.portalNode)if(b&&(m.current=!0),It($,L.portalNode)){const K=Sn()||x;K==null||K.focus()}else{var V;(V=L.afterOutsideRef.current)==null||V.focus()}}}))}function $n(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Kn(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const nn=f.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function sr(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=f.useState(()=>new Map),u=f.useCallback(c=>{i(p=>new Map(p).set(c,null))},[]),s=f.useCallback(c=>{i(p=>{const b=new Map(p);return b.delete(c),b})},[]);return G(()=>{const c=new Map(o);Array.from(c.keys()).sort($n).forEach((b,d)=>{c.set(b,d)}),Kn(o,c)||i(c)},[o]),f.createElement(nn.Provider,{value:f.useMemo(()=>({register:u,unregister:s,map:o,elementsRef:n,labelsRef:r}),[u,s,o,n,r])},t)}function cr(e){let{label:t}=e===void 0?{}:e;const[n,r]=f.useState(null),o=f.useRef(null),{register:i,unregister:u,map:s,elementsRef:c,labelsRef:p}=f.useContext(nn),b=f.useCallback(d=>{if(o.current=d,n!==null&&(c.current[n]=d,p)){var v;const l=t!==void 0;p.current[n]=l?t:(v=d==null?void 0:d.textContent)!=null?v:null}},[n,c,p,t]);return G(()=>{const d=o.current;if(d)return i(d),()=>{u(d)}},[i,u]),G(()=>{const d=o.current?s.get(o.current):null;d!=null&&r(d)},[s]),f.useMemo(()=>({ref:b,index:n??-1}),[n,b])}function Lt(e){return Re(e.target)&&e.target.tagName==="BUTTON"}function kt(e){return Qt(e)}function ur(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:u=!0,event:s="click",toggle:c=!0,ignoreMouse:p=!1,keyboardHandlers:b=!0}=t,d=f.useRef(),v=f.useRef(!1);return f.useMemo(()=>u?{reference:{onPointerDown(l){d.current=l.pointerType},onMouseDown(l){l.button===0&&(qe(d.current,!0)&&p||s!=="click"&&(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(s==="mousedown"&&d.current){d.current=void 0;return}qe(d.current,!0)&&p||(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){d.current=void 0,!(l.defaultPrevented||!b||Lt(l))&&(l.key===" "&&!kt(i)&&(l.preventDefault(),v.current=!0),l.key==="Enter"&&r(!(n&&c),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!b||Lt(l)||kt(i)||l.key===" "&&v.current&&(v.current=!1,r(!(n&&c),l.nativeEvent))}}}:{},[u,o,s,p,b,i,c,n,r])}const Bn=Nt["useInsertionEffect".toString()],Hn=Bn||(e=>e());function ye(e){const t=f.useRef(()=>{});return Hn(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Be(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Vn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Wn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},zn=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function lr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:u,domReference:s,floating:c},dataRef:p}=e,{enabled:b=!0,escapeKey:d=!0,outsidePress:v=!0,outsidePressEvent:l="pointerdown",referencePress:y=!1,referencePressEvent:g="pointerdown",ancestorScroll:R=!1,bubbles:x}=t,w=Fe(),D=ft()!=null,P=ye(typeof v=="function"?v:()=>!1),O=typeof v=="function"?P:v,E=f.useRef(!1),{escapeKeyBubbles:_,outsidePressBubbles:L}=zn(x),k=ye(T=>{if(!n||!b||!d||T.key!=="Escape")return;const m=w?Ce(w.nodesRef.current,i):[];if(!_&&(T.stopPropagation(),m.length>0)){let h=!0;if(m.forEach(a=>{var M;if((M=a.context)!=null&&M.open&&!a.context.dataRef.current.__escapeKeyBubbles){h=!1;return}}),!h)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,Mn(T)?T.nativeEvent:T)}),C=ye(T=>{const m=E.current;if(E.current=!1,m||typeof O=="function"&&!O(T))return;const h=dt(T);if(Re(h)&&c){const I=h.clientWidth>0&&h.scrollWidth>h.clientWidth,F=h.clientHeight>0&&h.scrollHeight>h.clientHeight;let S=F&&T.offsetX>h.clientWidth;if(F&&Xe(c).getComputedStyle(h).direction==="rtl"&&(S=T.offsetX<=h.offsetWidth-h.clientWidth),S||I&&T.offsetY>h.clientHeight)return}const a=w&&Ce(w.nodesRef.current,i).some(I=>{var F;return Be(T,(F=I.context)==null?void 0:F.elements.floating)});if(Be(T,c)||Be(T,s)||a)return;const M=w?Ce(w.nodesRef.current,i):[];if(M.length>0){let I=!0;if(M.forEach(F=>{var S;if((S=F.context)!=null&&S.open&&!F.context.dataRef.current.__outsidePressBubbles){I=!1;return}}),!I)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:D?{preventScroll:!0}:Xt(T)||Gt(T)}}),r(!1,T)});return f.useEffect(()=>{if(!n||!b)return;p.current.__escapeKeyBubbles=_,p.current.__outsidePressBubbles=L;function T(a){r(!1,a)}const m=re(c);d&&m.addEventListener("keydown",k),O&&m.addEventListener(l,C);let h=[];return R&&(ie(s)&&(h=we(s)),ie(c)&&(h=h.concat(we(c))),!ie(u)&&u&&u.contextElement&&(h=h.concat(we(u.contextElement)))),h=h.filter(a=>{var M;return a!==((M=m.defaultView)==null?void 0:M.visualViewport)}),h.forEach(a=>{a.addEventListener("scroll",T,{passive:!0})}),()=>{d&&m.removeEventListener("keydown",k),O&&m.removeEventListener(l,C),h.forEach(a=>{a.removeEventListener("scroll",T)})}},[p,c,s,u,d,O,l,n,r,R,b,_,L,k,C]),f.useEffect(()=>{E.current=!1},[O,l]),f.useMemo(()=>b?{reference:{onKeyDown:k,[Vn[g]]:T=>{y&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,T.nativeEvent))}},floating:{onKeyDown:k,[Wn[l]]:()=>{E.current=!0}}}:{},[b,o,y,l,g,r,k])}function ar(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,u]=f.useState(null),s=((t=e.elements)==null?void 0:t.reference)||i,c=bn(e),p=Fe(),b=ye((P,O)=>{P&&(v.current.openEvent=O),r==null||r(P,O)}),d=f.useRef(null),v=f.useRef({}),l=f.useState(()=>En())[0],y=Yt(),g=f.useCallback(P=>{const O=ie(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;c.refs.setReference(O)},[c.refs]),R=f.useCallback(P=>{(ie(P)||P===null)&&(d.current=P,u(P)),(ie(c.refs.reference.current)||c.refs.reference.current===null||P!==null&&!ie(P))&&c.refs.setReference(P)},[c.refs]),x=f.useMemo(()=>({...c.refs,setReference:R,setPositionReference:g,domReference:d}),[c.refs,R,g]),w=f.useMemo(()=>({...c.elements,domReference:s}),[c.elements,s]),D=f.useMemo(()=>({...c,refs:x,elements:w,dataRef:v,nodeId:o,floatingId:y,events:l,open:n,onOpenChange:b}),[c,o,y,l,n,b,x,w]);return G(()=>{const P=p==null?void 0:p.nodesRef.current.find(O=>O.id===o);P&&(P.context=D)}),f.useMemo(()=>({...c,context:D,refs:x,elements:w}),[c,x,w,D])}function fr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:u,elements:{floating:s,domReference:c}}=e,{enabled:p=!0,keyboardOnly:b=!0}=t,d=f.useRef(""),v=f.useRef(!1),l=f.useRef();return f.useEffect(()=>{if(!p)return;const g=re(s).defaultView||window;function R(){!n&&Re(c)&&c===me(re(c))&&(v.current=!0)}return g.addEventListener("blur",R),()=>{g.removeEventListener("blur",R)}},[s,c,n,p]),f.useEffect(()=>{if(!p)return;function y(g){(g.type==="referencePress"||g.type==="escapeKey")&&(v.current=!0)}return i.on("dismiss",y),()=>{i.off("dismiss",y)}},[i,p]),f.useEffect(()=>()=>{clearTimeout(l.current)},[]),f.useMemo(()=>p?{reference:{onPointerDown(y){let{pointerType:g}=y;d.current=g,v.current=!!(g&&b)},onMouseLeave(){v.current=!1},onFocus(y){var g;v.current||y.type==="focus"&&((g=o.current.openEvent)==null?void 0:g.type)==="mousedown"&&Be(o.current.openEvent,c)||r(!0,y.nativeEvent)},onBlur(y){v.current=!1;const g=y.relatedTarget,R=ie(g)&&g.hasAttribute(Pe("focus-guard"))&&g.getAttribute("data-type")==="outside";l.current=setTimeout(()=>{J(u.floating.current,g)||J(c,g)||R||r(!1,y.nativeEvent)})}}}:{},[p,b,c,u,o,r])}function et(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(u=>{let[s,c]=u;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof c=="function"){var p;(p=r.get(s))==null||p.push(c),o[s]=function(){for(var b,d=arguments.length,v=new Array(d),l=0;l<d;l++)v[l]=arguments[l];return(b=r.get(s))==null?void 0:b.map(y=>y(...v)).find(y=>y!==void 0)}}}else o[s]=c}),o),{})}}function dr(e){e===void 0&&(e=[]);const t=e,n=f.useCallback(i=>et(i,e,"reference"),t),r=f.useCallback(i=>et(i,e,"floating"),t),o=f.useCallback(i=>et(i,e,"item"),e.map(i=>i==null?void 0:i.item));return f.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let Dt=!1;const mt="ArrowUp",Ge="ArrowDown",Oe="ArrowLeft",Ae="ArrowRight";function _e(e,t,n){return Math.floor(e/t)!==n}function ke(e,t){return t<0||t>=e.current.length}function ee(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const u=e.current;let s=n;do{var c,p;s=s+(r?-i:i)}while(s>=0&&s<=u.length-1&&(o?o.includes(s):u[s]==null||(c=u[s])!=null&&c.hasAttribute("disabled")||((p=u[s])==null?void 0:p.getAttribute("aria-disabled"))==="true"));return s}function Je(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function St(e,t){return Je(t,e===mt||e===Ge,e===Oe||e===Ae)}function tt(e,t,n){return Je(t,e===Ge,n?e===Oe:e===Ae)||e==="Enter"||e==" "||e===""}function jn(e,t,n){return Je(t,n?e===Oe:e===Ae,e===Ge)}function qn(e,t,n){return Je(t,n?e===Ae:e===Oe,e===mt)}function nt(e,t){return ee(e,{disabledIndices:t})}function Ft(e,t){return ee(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function mr(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:u}}=e,{listRef:s,activeIndex:c,onNavigate:p=()=>{},enabled:b=!0,selectedIndex:d=null,allowEscape:v=!1,loop:l=!1,nested:y=!1,rtl:g=!1,virtual:R=!1,focusItemOnOpen:x="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:D=!0,disabledIndices:P=void 0,orientation:O="vertical",cols:E=1,scrollItemIntoView:_=!0}=t,L=ft(),k=Fe(),C=ye(p),T=f.useRef(x),m=f.useRef(d??-1),h=f.useRef(null),a=f.useRef(!0),M=f.useRef(C),I=f.useRef(!!u),F=f.useRef(!1),S=f.useRef(!1),z=ue(P),Y=ue(n),$=ue(_),[V,K]=f.useState(),W=ye(function(N,B,H){H===void 0&&(H=!1);const j=N.current[B.current];j&&(R?K(j.id):de(j,{preventScroll:!0,sync:On()&&Jt()?Dt||F.current:!1}),requestAnimationFrame(()=>{const Q=$.current;Q&&j&&(H||!a.current)&&(j.scrollIntoView==null||j.scrollIntoView(typeof Q=="boolean"?{block:"nearest",inline:"nearest"}:Q))}))});G(()=>{document.createElement("div").focus({get preventScroll(){return Dt=!0,!1}})},[]),G(()=>{b&&(n&&u?T.current&&d!=null&&(S.current=!0,C(d)):I.current&&(m.current=-1,M.current(null)))},[b,n,u,d,C]),G(()=>{if(b&&n&&u)if(c==null){if(F.current=!1,d!=null)return;if(I.current&&(m.current=-1,W(s,m)),!I.current&&T.current&&(h.current!=null||T.current===!0&&h.current==null)){let N=0;const B=()=>{s.current[0]==null?(N<2&&(N?requestAnimationFrame:queueMicrotask)(B),N++):(m.current=h.current==null||tt(h.current,O,g)||y?nt(s,z.current):Ft(s,z.current),h.current=null,C(m.current))};B()}}else ke(s,c)||(m.current=c,W(s,m,S.current),S.current=!1)},[b,n,u,c,d,y,s,O,g,C,W,z]),G(()=>{if(b&&I.current&&!u&&k){var N,B;const H=k.nodesRef.current,j=(N=H.find(Z=>Z.id===L))==null||(B=N.context)==null?void 0:B.elements.floating,Q=me(re(u)),A=H.some(Z=>Z.context&&J(Z.context.elements.floating,Q));j&&!A&&j.focus({preventScroll:!0})}},[b,u,k,L]),G(()=>{M.current=C,I.current=!!u}),G(()=>{n||(h.current=null)},[n]);const U=c!=null,X=f.useMemo(()=>{function N(H){if(!n)return;const j=s.current.indexOf(H);j!==-1&&C(j)}return{onFocus(H){let{currentTarget:j}=H;N(j)},onClick:H=>{let{currentTarget:j}=H;return j.focus({preventScroll:!0})},...w&&{onMouseMove(H){let{currentTarget:j}=H;N(j)},onPointerLeave(H){let{pointerType:j}=H;!a.current||j==="touch"||(m.current=-1,W(s,m),C(null),R||de(o.floating.current,{preventScroll:!0}))}}}},[n,o,W,w,s,C,R]);return f.useMemo(()=>{if(!b)return{};const N=z.current;function B(A){if(a.current=!1,F.current=!0,!Y.current&&A.currentTarget===o.floating.current)return;if(y&&qn(A.key,O,g)){ne(A),r(!1,A.nativeEvent),Re(i)&&i.focus();return}const Z=m.current,ae=nt(s,N),te=Ft(s,N);if(A.key==="Home"&&(ne(A),m.current=ae,C(m.current)),A.key==="End"&&(ne(A),m.current=te,C(m.current)),E>1){const q=m.current;if(A.key===mt){if(ne(A),q===-1)m.current=te;else if(m.current=ee(s,{startingIndex:q,amount:E,decrement:!0,disabledIndices:N}),l&&(q-E<ae||m.current<0)){const fe=q%E,Le=te%E,pt=te-(Le-fe);Le===fe?m.current=te:m.current=Le>fe?pt:pt-E}ke(s,m.current)&&(m.current=q),C(m.current)}if(A.key===Ge&&(ne(A),q===-1?m.current=ae:(m.current=ee(s,{startingIndex:q,amount:E,disabledIndices:N}),l&&q+E>te&&(m.current=ee(s,{startingIndex:q%E-E,amount:E,disabledIndices:N}))),ke(s,m.current)&&(m.current=q),C(m.current)),O==="both"){const fe=Math.floor(q/E);A.key===Ae&&(ne(A),q%E!==E-1?(m.current=ee(s,{startingIndex:q,disabledIndices:N}),l&&_e(m.current,E,fe)&&(m.current=ee(s,{startingIndex:q-q%E-1,disabledIndices:N}))):l&&(m.current=ee(s,{startingIndex:q-q%E-1,disabledIndices:N})),_e(m.current,E,fe)&&(m.current=q)),A.key===Oe&&(ne(A),q%E!==0?(m.current=ee(s,{startingIndex:q,disabledIndices:N,decrement:!0}),l&&_e(m.current,E,fe)&&(m.current=ee(s,{startingIndex:q+(E-q%E),decrement:!0,disabledIndices:N}))):l&&(m.current=ee(s,{startingIndex:q+(E-q%E),decrement:!0,disabledIndices:N})),_e(m.current,E,fe)&&(m.current=q));const Le=Math.floor(te/E)===fe;ke(s,m.current)&&(l&&Le?m.current=A.key===Oe?te:ee(s,{startingIndex:q-q%E-1,disabledIndices:N}):m.current=q),C(m.current);return}}if(St(A.key,O)){if(ne(A),n&&!R&&me(A.currentTarget.ownerDocument)===A.currentTarget){m.current=tt(A.key,O,g)?ae:te,C(m.current);return}tt(A.key,O,g)?l?m.current=Z>=te?v&&Z!==s.current.length?-1:ae:ee(s,{startingIndex:Z,disabledIndices:N}):m.current=Math.min(te,ee(s,{startingIndex:Z,disabledIndices:N})):l?m.current=Z<=ae?v&&Z!==-1?s.current.length:te:ee(s,{startingIndex:Z,decrement:!0,disabledIndices:N}):m.current=Math.max(ae,ee(s,{startingIndex:Z,decrement:!0,disabledIndices:N})),ke(s,m.current)?C(null):C(m.current)}}function H(A){x==="auto"&&Xt(A.nativeEvent)&&(T.current=!0)}function j(A){T.current=x,x==="auto"&&Gt(A.nativeEvent)&&(T.current=!0)}const Q=R&&n&&U&&{"aria-activedescendant":V};return{reference:{...Q,onKeyDown(A){a.current=!1;const Z=A.key.indexOf("Arrow")===0;if(R&&n)return B(A);if(!n&&!D&&Z)return;const ae=Z||A.key==="Enter"||A.key.trim()==="",te=St(A.key,O),q=jn(A.key,O,g);if(ae&&(h.current=y&&te?null:A.key),y){q&&(ne(A),n?(m.current=nt(s,N),C(m.current)):r(!0,A.nativeEvent));return}te&&(d!=null&&(m.current=d),ne(A),!n&&D?r(!0,A.nativeEvent):B(A),n&&C(m.current))},onFocus(){n&&C(null)},onPointerDown:j,onMouseDown:H,onClick:H},floating:{"aria-orientation":O==="both"?void 0:O,...Q,onKeyDown:B,onPointerMove(){a.current=!0}},item:X}},[i,o,V,z,Y,s,b,O,g,R,n,U,y,d,D,v,E,l,x,C,r,X])}function pr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,u=Yt();return f.useMemo(()=>{const s={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:s}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:u}},floating:{...s,...i==="menu"&&{"aria-labelledby":u}}}:{}},[o,i,n,r,u])}function gr(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:u,onMatch:s,onTypingChange:c,enabled:p=!0,findMatch:b=null,resetMs:d=750,ignoreKeys:v=[],selectedIndex:l=null}=t,y=f.useRef(),g=f.useRef(""),R=f.useRef((n=l??u)!=null?n:-1),x=f.useRef(null),w=ye(s),D=ye(c),P=ue(b),O=ue(v);return G(()=>{r&&(clearTimeout(y.current),x.current=null,g.current="")},[r]),G(()=>{if(r&&g.current===""){var E;R.current=(E=l??u)!=null?E:-1}},[r,l,u]),f.useMemo(()=>{if(!p)return{};function E(k){k?o.current.typing||(o.current.typing=k,D(k)):o.current.typing&&(o.current.typing=k,D(k))}function _(k,C,T){const m=P.current?P.current(C,T):C.find(h=>(h==null?void 0:h.toLocaleLowerCase().indexOf(T.toLocaleLowerCase()))===0);return m?k.indexOf(m):-1}function L(k){const C=i.current;if(g.current.length>0&&g.current[0]!==" "&&(_(C,C,g.current)===-1?E(!1):k.key===" "&&ne(k)),C==null||O.current.includes(k.key)||k.key.length!==1||k.ctrlKey||k.metaKey||k.altKey)return;r&&k.key!==" "&&(ne(k),E(!0)),C.every(a=>{var M,I;return a?((M=a[0])==null?void 0:M.toLocaleLowerCase())!==((I=a[1])==null?void 0:I.toLocaleLowerCase()):!0})&&g.current===k.key&&(g.current="",R.current=x.current),g.current+=k.key,clearTimeout(y.current),y.current=setTimeout(()=>{g.current="",R.current=x.current,E(!1)},d);const m=R.current,h=_(C,[...C.slice((m||0)+1),...C.slice(0,(m||0)+1)],g.current);h!==-1?(w(h),x.current=h):k.key!==" "&&(g.current="",E(!1))}return{reference:{onKeyDown:L},floating:{onKeyDown:L,onKeyUp(k){k.key===" "&&E(!1)}}}},[p,r,o,i,d,O,P,w,D])}function At(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let u=0,s=i-1;u<i;s=u++){const[c,p]=t[u]||[0,0],[b,d]=t[s]||[0,0];p>=r!=d>=r&&n<=(b-c)*(r-p)/(d-p)+c&&(o=!o)}return o}function Yn(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function hr(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,u=null,s=null,c=performance.now();function p(d,v){const l=performance.now(),y=l-c;if(u===null||s===null||y===0)return u=d,s=v,c=l,null;const g=d-u,R=v-s,w=Math.sqrt(g*g+R*R)/y;return u=d,s=v,c=l,w}const b=d=>{let{x:v,y:l,placement:y,elements:g,onClose:R,nodeId:x,tree:w}=d;return function(P){function O(){clearTimeout(o),R()}if(clearTimeout(o),!g.domReference||!g.floating||y==null||v==null||l==null)return;const{clientX:E,clientY:_}=P,L=[E,_],k=dt(P),C=P.type==="mouseleave",T=J(g.floating,k),m=J(g.domReference,k),h=g.domReference.getBoundingClientRect(),a=g.floating.getBoundingClientRect(),M=y.split("-")[0],I=v>a.right-a.width/2,F=l>a.bottom-a.height/2,S=Yn(L,h),z=a.width>h.width,Y=a.height>h.height,$=(z?h:a).left,V=(z?h:a).right,K=(Y?h:a).top,W=(Y?h:a).bottom;if(T&&(i=!0,!C))return;if(m&&(i=!1),m&&!C){i=!0;return}if(C&&ie(P.relatedTarget)&&J(g.floating,P.relatedTarget)||w&&Ce(w.nodesRef.current,x).some(N=>{let{context:B}=N;return B==null?void 0:B.open}))return;if(M==="top"&&l>=h.bottom-1||M==="bottom"&&l<=h.top+1||M==="left"&&v>=h.right-1||M==="right"&&v<=h.left+1)return O();let U=[];switch(M){case"top":U=[[$,h.top+1],[$,a.bottom-1],[V,a.bottom-1],[V,h.top+1]];break;case"bottom":U=[[$,a.top+1],[$,h.bottom-1],[V,h.bottom-1],[V,a.top+1]];break;case"left":U=[[a.right-1,W],[a.right-1,K],[h.left+1,K],[h.left+1,W]];break;case"right":U=[[h.right-1,W],[h.right-1,K],[a.left+1,K],[a.left+1,W]];break}function X(N){let[B,H]=N;switch(M){case"top":{const j=[z?B+t/2:I?B+t*4:B-t*4,H+t+1],Q=[z?B-t/2:I?B+t*4:B-t*4,H+t+1],A=[[a.left,I||z?a.bottom-t:a.top],[a.right,I?z?a.bottom-t:a.top:a.bottom-t]];return[j,Q,...A]}case"bottom":{const j=[z?B+t/2:I?B+t*4:B-t*4,H-t],Q=[z?B-t/2:I?B+t*4:B-t*4,H-t],A=[[a.left,I||z?a.top+t:a.bottom],[a.right,I?z?a.top+t:a.bottom:a.top+t]];return[j,Q,...A]}case"left":{const j=[B+t+1,Y?H+t/2:F?H+t*4:H-t*4],Q=[B+t+1,Y?H-t/2:F?H+t*4:H-t*4];return[...[[F||Y?a.right-t:a.left,a.top],[F?Y?a.right-t:a.left:a.right-t,a.bottom]],j,Q]}case"right":{const j=[B-t,Y?H+t/2:F?H+t*4:H-t*4],Q=[B-t,Y?H-t/2:F?H+t*4:H-t*4],A=[[F||Y?a.left+t:a.right,a.top],[F?Y?a.left+t:a.right:a.left+t,a.bottom]];return[j,Q,...A]}}}if(!At([E,_],U)){if(i&&!S)return O();if(!C&&r){const N=p(P.clientX,P.clientY);if(N!==null&&N<.1)return O()}At([E,_],X([v,l]))?!i&&r&&(o=window.setTimeout(O,40)):O()}}};return b.__options={blockPointerEvents:n},b}export{Zn as A,ir as F,er as L,tr as O,rr as a,Qn as b,ar as c,nr as d,dr as e,ur as f,or as g,lr as h,pr as i,mr as j,gr as k,sr as l,fr as m,hr as s,cr as u};
