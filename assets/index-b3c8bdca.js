import{r as x,j as e,a as ie}from"./react-e3f22801.js";import{c as oe}from"./react-dom-ca9bc2d4.js";import{L as ce,c as de}from"./react-router-dom-4201b085.js";import{a as he,O as ue,R as fe}from"./react-router-8ba3ec2c.js";import{T as C}from"./flowbite-react-5e689fe5.js";import"./react-indiana-drag-scroll-533871e5.js";import{$ as J}from"./jquery-e66bc7ee.js";import{Q as xe,a as pe}from"./@tanstack-8b34a394.js";import"./scheduler-765c72db.js";import"./@remix-run-a4f399d2.js";import"./react-icons-c518e3e7.js";import"./@floating-ui-2bd93df1.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./tailwind-merge-1166cefb.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&t(g)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}})();const Y=x.createContext(),me=({children:u})=>{const[s,a]=x.useState("Construct FA");return e.jsx(Y.Provider,{value:{navBarSelect:s,setNavBarSelect:a},children:u})},ge=()=>{const{navBarSelect:u}=x.useContext(Y);return e.jsx("div",{className:`min-[1880px]:px-96
    lg:px-16
    md:px-6 px-6 min-h-[64px] w-full py-6 pl-6 bg-slate-500 text-white font-semibold text-2xl`,children:u})},Se=()=>{const{navBarSelect:u,setNavBarSelect:s}=x.useContext(Y);he();const a=[{title:"Construct FA",to:"/"},{title:"Classify FA",to:"/classify"},{title:"Validate String",to:"/validate"},{title:"Convert from NFA to DFA",to:"/"},{title:"Minimize DFA",to:"/minimized"}];return e.jsxs("nav",{className:"fixed w-full z-50",children:[e.jsx("div",{className:`min-[1880px]:px-96
        lg:px-16
        md:px-6 px-6 bg-blue-500 p-4 flex items-center justify-start list-none gap-x-5 text-white`,children:a.map((t,r)=>e.jsx(ce,{to:t.to,onClick:()=>{s(t.title)},className:`${t.title===u&&"bg-white p-2 rounded-md text-black"}`,children:t.title},r))}),e.jsx(ge,{})]})},je=()=>e.jsxs("div",{className:"min-h-screen flex flex-col overflow-auto",children:[e.jsx(Se,{}),e.jsx("main",{className:`
          min-[1880px]:px-96
          lg:px-16
          md:px-6 md:pb-2 px-6 mt-48`,children:e.jsx(ue,{})})]}),B=x.createContext(),be=({children:u})=>{const[s,a]=x.useState({}),[t,r]=x.useState(0),[l,g]=x.useState(0),[j,S]=x.useState(!1),[R,E]=x.useState(!1),[N,F]=x.useState(!1),[o,p]=x.useState({faStates:[],faAlphabets:[],faStartState:"",faFinalStates:[],transitionSets:Array.from({length:t},(i,c)=>Array.from({length:l},(m,d)=>({transitState:`q${c}`,transitAlphabet:String.fromCharCode(d+97),transitResult:[],startState:!0,finalState:!0})))}),[y,M]=x.useState(""),z=()=>{p({...o,faStates:[],faStartStates:[],faFinalStates:[]})},$=()=>{o.transitionSets=Array.from({length:t},(i,c)=>Array.from({length:l},(m,d)=>({transitState:`q${c}`,transitAlphabet:String.fromCharCode(d+97),transitResult:[],startState:o.faStartState===`q${c}`,finalState:o.faFinalStates.includes(`q${c}`)}))),p({...o})},T=i=>{if(a({...s,stateError:""}),z(),$(),p({...o}),Number(i.target.value)<=0&&(r(0),z()),Number(i.target.value)>0&&Number(i.target.value)<=5){r(Number(i.target.value));for(let c=0;c<Number(i.target.value);c++)o.faStates.push(`q${c}`),o.transitionSets=Array.from({length:Number(i.target.value)},(m,d)=>Array.from({length:l},(b,k)=>({transitState:`q${d}`,transitAlphabet:String.fromCharCode(k+97),transitResult:[],startState:`q${d}`===o.faStartState,finalState:!1}))),p({...o,faStartState:"q0"})}else Number(i.target.value)>=6&&(a({...s,stateError:"Cannot exceed 5 states"}),z(),$())},H=()=>{if(a({...s,nfaError:""}),j){const i=o.faAlphabets.indexOf("$");o.faAlphabets.splice(i,1),S(!1),p({...o}),D(),$()}j||(S(!0),o.faAlphabets.push("$"),o.transitionSets=Array.from({length:t},(i,c)=>Array.from({length:o.faAlphabets.length},(m,d)=>({transitState:`q${c}`,transitAlphabet:d!==o.faAlphabets.length-1?String.fromCharCode(d+97):"$",transitResult:[],startState:o.faStartState===`q${c}`,finalState:o.faFinalStates.includes(`q${c}`)}))),D(),p({...o}))},q=()=>{S(!1),E(!1),p({...o,faAlphabets:[]})},X=i=>{if(a({...s,alphabetError:""}),q(),$(),Number(i.target.value)<=0&&(g(0),q()),Number(i.target.value)>0&&Number(i.target.value)<=5){g(Number(i.target.value));for(let c=0;c<i.target.value;c++)o.faAlphabets.push(String.fromCharCode(c+97)),o.transitionSets=Array.from({length:t},(m,d)=>Array.from({length:Number(i.target.value)},(b,k)=>({transitState:`q${d}`,transitAlphabet:String.fromCharCode(k+97),transitResult:[],startState:`q${d}`===o.faStartState,finalState:o.faFinalStates===`q${d}`}))),p({...o})}else Number(i.target.value)>=6&&(a({...s,alphabetError:"Cannot exceed 5 alphabets"}),q(),$())},Z=i=>{const{transitionSets:c}=o;c.forEach(m=>{m.forEach(d=>{d.transitState!==i?d.startState=!1:d.startState=!0})}),p({...o,faStartState:i})},O=()=>{const{transitionSets:i,faFinalStates:c}=o;c.forEach(m=>{i.forEach(d=>{d.filter(b=>b.transitState===m).forEach(b=>b.finalState=!0)})})},V=i=>{const{transitionSets:c}=o;c.forEach(m=>{m.forEach(d=>{d.transitState===i&&(d.finalState=!1)})})},Q=i=>{const{value:c,checked:m}=i.target,{faFinalStates:d}=o;if(m)d.includes(c)||(d.push(c),O());else{const b=d.indexOf(c);d.splice(b,1),V(c)}p({...o})},D=()=>{const{transitionSets:i,faAlphabets:c}=o;let m=!1,d=0;c.includes("$")?(E(!0),m=!0):i.forEach(b=>b.forEach(k=>{d+=k.transitResult.length,d!==o.faStates.length*o.faAlphabets.length?(E(!0),m=!0):(E(!1),m=!1)})),m||E(!1)},_=(i,c,m,d)=>{const{checked:b}=d.target,{transitionSets:k}=o,{row:P}=c,{col:ne}=m,G=k[P][ne];b&&!G.transitResult.includes(i)?(G.transitResult.push(i),D()):(G.transitResult.splice(G.transitResult.indexOf(i),1),D()),p({...o})},K=i=>{a({...s,stringError:""}),F(!1);const{value:c}=i.target;M(c)},U=()=>{const{faAlphabets:i}=o;let c=y.length-1,m=!0;for(;c>=0;){if(!i.includes(y[c]))return!1;c--}return m};function I(){const{transitionSets:i}=o;let c=[];return i.forEach(m=>{m.forEach(d=>{d.startState&&c.push(d)})}),c}const h=i=>{const{transitionSets:c}=o;let m=[];return c.forEach(d=>{d.forEach(b=>{b.transitState===i?(b.startState=!0,m.push(b)):b.startState=!1})}),m};let n=[I()],f=!1;const v=(i,c)=>{let m=i,d=c;if(m.length===0&&!f){n=[h(o.faStartState)],d.every(b=>o.faFinalStates.includes(b)?(F(o.faFinalStates.includes(b)),!1):!0),d=[];return}if(a({...s,stringError:""}),o.faFinalStates.length<=0){a({...s,stringError:"Missing Final States"});return}U()?(f=!1,d=[],n.forEach(b=>b.forEach(k=>{k.transitAlphabet===m[0]&&k.transitResult.forEach(P=>{d.includes(P)||d.push(P)}),k.transitAlphabet==="$"&&k.transitResult.length>0&&k.transitResult.forEach(P=>{f=!0,d.includes(P)||d.push(P)})})),f||(d.forEach(b=>{n.push(h(b))}),n.forEach(b=>{b.forEach(k=>{k.transitAlphabet==="$"&&k.transitResult.length>0&&k.transitResult.forEach(P=>{f=!0,d.includes(P)||d.push(P)})})}),f&&(n=[],d.forEach(b=>{n.push(h(b))}),v(m,d))),m=m.slice(1),f&&(n=[],d.forEach(b=>{n.push(h(b))}),v(m,d)),n=[],d.forEach(b=>{n.push(h(b))}),v(m,d)):(a({...s,stringError:"Some input alphabets are not included in your alphabet set"}),F(!1))},w=()=>{if(a({...s,stringError:""}),o.faFinalStates.length<=0){a({...s,stringError:"Missing Final States"});return}if(!U())a({...s,stringError:"Some input alphabets are not included in your alphabet set"}),F(!1);else{let i=0,c=I(),m;for(;i<=y.length-1;)c.some(d=>d.transitAlphabet===y[i])&&(m=c.find(d=>d.transitAlphabet===y[i]),c.forEach(d=>d.startState=!1)),c=h(m.transitResult[0]),i++;c=h(o.faStartState),F(o.faFinalStates.includes(m.transitResult[0]))}},A=()=>{const{faStates:i,faAlphabets:c,faStartState:m,faFinalStates:d,transitionSets:b}=o;console.log("Start state: "),console.log(m),console.log("States set: "),console.log(i),console.log("Alphabets set: "),console.log(c),console.log("Transitions set: "),console.log(b),console.log("Final states: "),console.log(d)};return e.jsx(B.Provider,{value:{validateNFA:v,handleTransition:_,isAccepted:N,setIsAccepted:F,inputString:y,setInputString:M,handleString:K,validateDFA:w,epsilonCheck:j,setEpsilonCheck:S,nfa:R,setNfa:E,setRows:r,setCols:g,adjustEpsilon:H,error:s,setError:a,handleFinalState:Q,fa:o,setFa:p,handleStartState:Z,generateAlphabets:X,generateStates:T,submitForm:A},children:u})},te=()=>{const{fa:u,generateStates:s,error:a}=x.useContext(B),{faStates:t}=u;return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex gap-1 items-center",htmlFor:"state",children:[e.jsx("span",{children:"State:"}),e.jsx("input",{value:t.length||0,min:"0",type:"number",required:!0,max:"5",onChange:r=>{s(r)},className:"border-2 border-blue-500 px-2 py-1 w-full",id:"state",placeholder:"Number of States..."})]}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{children:["Your States [ ",t==null?void 0:t.map((r,l)=>e.jsxs("span",{children:[r,t.length-1!==l&&", "]},l))," ]"]})}),e.jsxs("div",{children:[e.jsx("span",{className:`${a?"text-red-500 text-xs":"hidden"}`,children:a&&a.nfaError}),e.jsx("span",{className:`${a?"text-red-500 text-xs":"hidden"}`,children:a&&a.stateError})]})]})},se=()=>{const{fa:u,generateAlphabets:s,error:a,adjustEpsilon:t,epsilonCheck:r}=x.useContext(B),{faAlphabets:l}=u;return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("label",{className:"flex items-center gap-1",htmlFor:"alphabet",children:[e.jsx("span",{children:"Alphabet:"}),e.jsx("input",{required:!0,onChange:g=>{s(g)},value:l.length||0,min:"0",max:"5",className:"border-2 border-blue-500 px-2 py-1 w-full",type:"number",id:"alphabet",placeholder:"Number of Alphabets"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:["Your Alphabets: [ ",l==null?void 0:l.map((g,j)=>e.jsxs("span",{children:[" ",g,l.length-1!==j&&", "]},j))," ]"]}),l.length>0&&e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:r,onChange:g=>t(g),className:"border-2 border-blue-500",type:"checkbox"}),e.jsx("label",{htmlFor:"",children:"Include Epsilon?"})]})]}),e.jsx("span",{className:`${a?"text-red-500 text-xs":"hidden"}`,children:a&&a.alphabetError})]})},ae=()=>{const{fa:u,handleStartState:s}=x.useContext(B),{faStates:a,faStartState:t}=u;if(a.length>0)return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{children:"Start State"}),a==null?void 0:a.filter(r=>r!=="Trap").map((r,l)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{onChange:()=>{s(r)},checked:t===r,type:"checkbox"}),e.jsx("label",{htmlFor:"",children:r})]},l))]}),e.jsxs("div",{children:["Your Start State: ",t]})]})},re=()=>{const{fa:u,handleFinalState:s}=x.useContext(B),{faStates:a,faFinalStates:t}=u;if(a.length>0)return e.jsxs("div",{className:"h-full p-4 border-2 rounded-tl-md rounded-tr-md border-blue-500 w-full shadow-lg flex flex-col gap-2 justify-center",children:[e.jsx("div",{children:"Final State"}),e.jsx("div",{className:"grid grid-cols-3 gap-1",children:a==null?void 0:a.filter(r=>r!=="Trap").map((r,l)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:t.includes(r),type:"checkbox",onChange:g=>{s(g)},value:r,id:r}),e.jsx("label",{htmlFor:r,children:r})]},l))}),e.jsxs("div",{children:[(t==null?void 0:t.length)>0&&"Your Final State: ",t==null?void 0:t.map((r,l)=>e.jsxs("span",{children:[r,t.length-1!==l&&", "]},l))]})]})},ee=()=>{const{fa:u}=x.useContext(B),{transitionSets:s}=u;if(s.length>0)return e.jsx("div",{className:"h-full p-4 w-full box-border flex flex-col items-center border-blue-500 border-2 rounded-tl-md rounded-tr-md",children:e.jsx("div",{className:"grid grid-cols-5 gap-6 w-fit",children:s==null?void 0:s.map((a,t)=>e.jsx("div",{className:"h-full p-4 w-full flex flex-col border-blue-500 border-2 rounded-tl-md rounded-tr-md gap-2",children:a.map((r,l)=>e.jsxs("div",{className:"w-fit text-white bg-blue-950 px-2 py-1 rounded-md",children:[r.transitState,"  ->  ",r.transitAlphabet,"  = ",r.transitResult.map((g,j)=>e.jsxs("span",{children:[g,r.transitResult.length-1!==j&&", "]},j)),e.jsx("br",{}),r.startState&&`SS: ${r.startState}`,r.finalState&&`FS: ${r.finalState}`]},l))},t))})})},le=()=>{const{fa:u,handleTransition:s}=x.useContext(B),{faStates:a,faAlphabets:t,faStartState:r,faFinalStates:l,transitionSets:g}=u;if(a.length>0||t.length>0)return e.jsxs("div",{className:"p-4 flex w-full border-2 rounded-tl-md rounded-tr-md border-blue-500 flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-semibold",children:"Transition Table"}),e.jsxs("ul",{className:"text-xs text-gray-500",children:[e.jsx("li",{children:"* The Header is the resulting state"}),e.jsx("li",{children:"* The check boxes are the alphabets for transition"})]})]}),e.jsxs(C,{children:[e.jsxs(C.Head,{children:[e.jsxs(C.HeadCell,{children:["Start and ",e.jsx("br",{})," Final States"]}),e.jsx(C.HeadCell,{children:"States"}),t==null?void 0:t.map((j,S)=>e.jsx(C.HeadCell,{children:j},S))]}),e.jsx(C.Body,{className:"divide-y",children:a==null?void 0:a.map((j,S)=>e.jsxs(C.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(C.Cell,{children:[j===r&&e.jsxs("span",{className:"whitespace-nowrap",children:["Start State: ",r," ",e.jsx("br",{})]}),l.length>0&&l.filter(R=>R===j).map((R,E)=>e.jsxs("div",{children:["Final State: ",R]},E))]}),e.jsx(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:j}),t==null?void 0:t.map((R,E)=>e.jsx(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:a==null?void 0:a.map((N,F)=>{var o;return e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{checked:(o=g[S][E])==null?void 0:o.transitResult.includes(N),onChange:p=>{s(N,{row:S,transitState:j},{col:E,transitAlphabet:R},p)},type:"checkbox"}),e.jsx("label",{htmlFor:"",children:N})]},F)})},E))]},S))})]})]})},Ne=()=>{const{submitForm:u}=x.useContext(B);return e.jsxs("main",{className:"flex flex-col gap-4",children:[e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"h-full flex gap-4 w-full",children:e.jsxs("div",{className:"w-full grid grid-cols-4 gap-4",children:[e.jsx(te,{}),e.jsx(se,{}),e.jsx(ae,{}),e.jsx(re,{})]})}),e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx(le,{}),e.jsx(ee,{})]})]})}),e.jsx("button",{className:"transition duration-200 w-fit bg-blue-500 text-white px-2 py-1 rounded-md hover:bg-blue-600",onClick:()=>{u()},children:"Submit"})]})},W=x.createContext(),ve=({children:u})=>{const[s,a]=x.useState([]),[t,r]=x.useState([]);let l=[];const[g,j]=x.useState(Array.from({length:1},()=>Array.from({length:1},()=>"q0")));let S=[];const R=(h,n,f="q0")=>{j(Array.from({length:h},()=>Array.from({length:n},()=>f))),F({...N,transitions:Array.from({length:h},()=>Array.from({length:n},()=>f))})},E=(h,n,f)=>{let v=[...g];v[h][n]=f,j(v),F({...N,transitions:v})},[N,F]=x.useState({states:s,alphabets:t,startState:[],finalStates:[],amountState:s.length,amountAlphabet:t.length,transitions:g}),o=(h=1)=>{for(;s.length>0;)s.pop(),F({...N,states:s,amountState:s.length});for(let n=0;n<h;n++)a(s,s.push(`q${n}`)),F({...N,states:s,amountState:s.length})},p=(h=1)=>{for(;t.length>0;)t.pop(),F({...N,alphabets:t,amountAlphabet:t.length});for(let n=0;n<h;n++)r(t,t.push(`${n}`)),F({...N,alphabets:t,amountAlphabet:t.length})},y=h=>{const{value:n,checked:f}=h.target;if(f)N.startState.includes(n)||N.startState.push(n);else{const v=N.startState.indexOf(n);N.startState.splice(v,1)}F({...N})},M=()=>{for(;S.length>0;)S.pop();for(let h=0;h<s.length;h++){const n={state:s[h],transition:g[h]};S.push(n)}console.log("Transitions: "),console.log(S)},z=()=>{for(;l.length>0;)l.pop();let h=[],n=0,f,v;for(;n<s.length;){if(!N.startState.includes(s[n])){for(f=0;f<S.length;f++)if(s[n]!==S[f].state){for(v=0;v<t.length;v++)if(s[n]==S[f].transition[v]){f=s.length;break}}f===s.length&&v===t.length&&h.push(s[n])}n++}let w=[];S.map(i=>{h.includes(i.state)||w.push(i)}),S=w;let A=[];s.map(i=>{h.includes(i)||A.push(i)}),a(A),l=A,console.log("Inaccesssible state: "),console.log(h),console.log("New transition: "),console.log(S)},$=[],T=[],H=[],q=[],X=()=>{for(;H.length>0;)H.pop();for(let h=0;h<l.length;h++)for(let n=1;n<l.length;n++)l[h]!==l[n]&&h!==n&&(_(H,l[h],l[n])||H.push([l[h],l[n]]));console.log("DFA Pairs: "),console.log(H)};function Z(h,n){return!!(N.finalStates.includes(h)^N.finalStates.includes(n))}function O(h,n){return S.find(f=>f.state===h).transition[`${n}`]}function V(){for(;T.length>0;)T.pop()}function Q(){let h=!1;T.map(n=>{for(let f=0;f<t.length;f++)if(_($,O(n[0],f),O(n[1],f))){$.push([n[0],n[1]]),h=!0;break}}),V(),H.map(n=>{_($,n[0],n[1])||T.push([n[0],n[1]])}),h&&Q()}function D(){for(;$.length>0;)$.pop()}function _(h,n,f){let v=0;for(;v<h.length&&!(h[v][0]+h[v][1]===n+f||h[v][0]+h[v][1]===f+n);)v++;return v!==h.length}const K=()=>{for(z(),X(),D(),V(),H.map(w=>{Z(w[0],w[1])?$.push([w[0],w[1]]):T.push([w[0],w[1]])}),Q(),console.log("Marked Pairs"),console.log($),console.log("Unmarked Pairs"),console.log(T);q.length>0;)q.pop();let h=0,n=[];for(;h<l.length;){let w=0;if(!n.includes(l[h])){for(w=0;w<T.length&&!(l[h]===T[w][0]||l[h]===T[w][1]);w++);if(w===T.length){let A=[];for(let c=0;c<t.length;c++)A.push(O(l[h],c));let i={state:l[h],transitionTable:A};q.push(i)}else for(let A=0;A<2;A++)n.includes(T[w][A])||n.push(T[w][A])}h++}let f=[],v=0;for(;v<n.length;){let w=!1;for(let A=0;A<f.length;A++)if(f[A].includes(n[v])){w=!0;break}if(!w){let A=[];for(let i=0;i<T.length;i++)if(T[i].includes(n[v]))for(let c=0;c<2;c++)A.includes(T[i][c])||A.push(T[i][c]);f.push(A)}v++}for(let w=0;w<f.length;w++){let A=[];for(let c=0;c<t.length;c++)A.push(O(f[w][0],c));let i={state:f[w],transitionTable:A};q.push(i)}},U=()=>{console.log("DFA: "),console.log(N),M(),K(),console.log("After minimized: "),console.log(q)},I=h=>{const{value:n,checked:f}=h.target;if(f)N.finalStates.includes(n)||N.finalStates.push(n);else{const v=N.finalStates.indexOf(n);N.finalStates.splice(v,1)}F({...N})};return e.jsx(W.Provider,{value:{newStates:l,states:s,setStates:a,alphabets:t,setAlphabets:r,generateStates:o,generateAlphabets:p,setDfa:F,dfa:N,handleStartState:y,handleFinalState:I,transitionTable:g,setTransitionTable:j,handleTransistionTable:E,initializeTransitionTable:R,transitions:S,handleSubmit:U,handleTransitions:M,findInaccessibleState:z,minimizedTransistionTable:q},children:u})},we=()=>{const{states:u,alphabets:s,handleTransistionTable:a}=x.useContext(W);return e.jsx("div",{children:e.jsxs(C,{children:[e.jsxs(C.Head,{children:[e.jsx(C.HeadCell,{}),s==null?void 0:s.map((t,r)=>e.jsx(C.HeadCell,{children:t},r))]}),e.jsx(C.Body,{className:"divide-y",children:u==null?void 0:u.map((t,r)=>e.jsxs(C.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:t}),s==null?void 0:s.map((l,g)=>e.jsx(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:e.jsx("select",{name:"transition",id:"transition",onChange:j=>{a(r,g,j.target.value)},children:u==null?void 0:u.map((j,S)=>e.jsx("option",{value:j,children:j},S))})},g))]},r))})]})})},Ce=()=>{const{minimizedTransistionTable:u,alphabets:s,dfa:a}=x.useContext(W);return e.jsx("div",{children:e.jsxs(C,{children:[e.jsxs(C.Head,{children:[e.jsx(C.HeadCell,{children:"States"}),s==null?void 0:s.map((t,r)=>e.jsx(C.HeadCell,{children:t},r))]}),e.jsx(C.Body,{className:"divide-y",children:u==null?void 0:u.map((t,r)=>e.jsxs(C.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white flex",children:[e.jsxs("div",{children:[a.finalStates.includes(t.state)&&"Final State: ",a.startState.includes(t.state)&&"Start State: "]}),e.jsxs("div",{children:["[ ",t.state," ]"]})]}),s==null?void 0:s.map((l,g)=>e.jsx(C.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:t.transitionTable[l]},g))]},r))})]})})},ye=()=>{var F,o;const{setNavBarSelect:u}=x.useContext(Y),{generateStates:s,states:a,dfa:t,generateAlphabets:r,alphabets:l,handleStartState:g,handleFinalState:j,initializeTransitionTable:S,handleSubmit:R}=x.useContext(W);x.useEffect(()=>{u("Minimize DFA")}),x.useEffect(()=>{r(),s()},[]);const[E,N]=x.useState(!1);return E?e.jsx(Ce,{}):e.jsx("main",{className:"flex gap-4",children:e.jsxs("section",{className:"w-full",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 w-1/2 items-center",children:[e.jsx("label",{htmlFor:"state",children:"Number of States: "}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{min:1,defaultValue:1,type:"number",required:!0,max:5,onChange:p=>{s(p.target.value),S(p.target.value,l.length)},className:"border-2 border-[#3B82F6] px-2 py-1 w-full",id:"state"}),e.jsxs("div",{children:["Your states: ["," ",a==null?void 0:a.map((p,y)=>e.jsxs("span",{children:[p,a.length-1!==y&&", "]},y))," ","]"]})]}),e.jsx("label",{htmlFor:"alphabet",children:"Number of Alphabets: "}),e.jsxs("div",{children:[e.jsx("input",{required:!0,min:"1",defaultValue:"1",onChange:p=>{r(p.target.value),S(a.length,p.target.value)},max:"5",className:"border-2 border-[#3B82F6] px-2 py-1 w-full",type:"number",id:"alphabet"}),e.jsxs("div",{children:["Your Alphabets: ["," ",l==null?void 0:l.map((p,y)=>e.jsxs("span",{children:[" ",p,l.length-1!==y&&", "]},y))," ","]"]})]}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"Start State"}),e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-5 gap-1",children:a==null?void 0:a.map((p,y)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"checkbox",onChange:M=>{g(M)},value:p,id:p}),e.jsx("label",{htmlFor:p,children:p})]},y))}),e.jsxs("div",{children:["Your Start State:"," ",(F=t.startState)==null?void 0:F.map((p,y)=>e.jsxs("span",{children:[p,t.startState.length-1!==y&&", "]},y))]})]})]}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"Final State"}),e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-5 gap-1",children:a==null?void 0:a.map((p,y)=>e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("input",{type:"checkbox",onChange:M=>{j(M)},value:p,id:p}),e.jsx("label",{htmlFor:p,children:p})]},y))}),e.jsxs("div",{children:["Your Final State:"," ",(o=t.finalStates)==null?void 0:o.map((p,y)=>e.jsxs("span",{children:[p,t.finalStates.length-1!==y&&", "]},y))]})]})]}),e.jsx("label",{htmlFor:"",children:"Transition Table"}),e.jsx(we,{})]}),e.jsx("button",{onClick:()=>{R()},children:"Submit"})]})})},L=()=>e.jsxs("div",{children:[e.jsx("p",{children:"An error has occurred"}),e.jsx("a",{href:"/",children:"Back home"})]}),Ae=()=>{const{setNavBarSelect:u}=x.useContext(Y),{fa:s,nfa:a}=x.useContext(B),{faStates:t,faAlphabets:r,faStartState:l,faFinalStates:g}=s;return x.useEffect(()=>{u("Classify FA")}),e.jsxs("main",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"flex flex-col gap-2 w-1/2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Your States Q: "}),e.jsx("p",{children:t==null?void 0:t.map((j,S)=>e.jsxs("span",{children:[j," ",t.length-1!==S&&", "]},S))})]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Your Alphabets: "}),e.jsx("p",{children:r==null?void 0:r.map((j,S)=>e.jsxs("span",{children:[j,r.length-1!==S&&", "]},S))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Start State:"})," ",l]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"font-semibold",children:"Final state:  "}),e.jsx("p",{children:g==null?void 0:g.map((j,S)=>e.jsxs("span",{children:[j,g.length-1!==S&&", "]},S))})]}),e.jsx("div",{className:"bg-blue-950 rounded-md px-12 py-2 text-white",children:e.jsx("span",{children:`This is ${a?"an NFA":"a DFA"}`})})]}),e.jsx("section",{className:"",children:e.jsx(ee,{})})]})},Fe=()=>{const{setNavBarSelect:u}=x.useContext(Y),s=x.useRef(null);x.useEffect(()=>{var o;u("Validate String"),window.scrollTo({behavior:"smooth",top:0}),(o=s.current)==null||o.focus()});const{nfa:a,error:t,handleString:r,inputString:l,validateDFA:g,validateNFA:j,isAccepted:S}=x.useContext(B),[R,E]=x.useState(!1),[N,F]=x.useState(!1);return e.jsx("main",{className:"flex flex-col w-full gap-4",children:e.jsxs("section",{className:"flex flex-col gap-4",children:[e.jsxs("section",{className:"flex items-center",children:[e.jsx("div",{className:"flex flex-col gap-1 pr-4",children:e.jsxs("div",{className:"w-fit flex items-center gap-2",children:[e.jsx("label",{htmlFor:"",children:"Input String: "}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{className:"py-1",ref:s,onKeyDown:({key:o})=>{o==="Enter"&&(a?j(l,[]):g())},value:l,onChange:r,type:"text",placeholder:"Enter string..."}),e.jsx("span",{className:`${!t.stringError&&"hidden"} text-red-500 text-xs`,children:t&&t.stringError})]}),e.jsx("button",{onClick:o=>{a?j(l,[]):g()},className:"bg-blue-300 text-blue-500 px-6 py-1 rounded-md",children:"submit"})]})}),l.length>0&&e.jsx("div",{className:"border-blue-500 border-l-2 pl-4",children:e.jsxs("span",{className:"font-semibold",children:[l," is ",S?"accepted":"not accepted"]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(ee,{}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),E(!R)},className:"transition duration-200 bg-slate-500 w-fit px-8 py-2 rounded-[20px] text-white text-opacity-70 hover:bg-slate-600",children:"Toggle transition table"}),e.jsx("button",{onClick:o=>{o.stopPropagation(),F(!N)},className:"transition duration-200 bg-slate-500 w-fit px-8 py-2 rounded-[20px] text-white text-opacity-70 hover:bg-slate-600",children:"Toggle FA set"})]}),R&&e.jsx(le,{})]}),N&&e.jsxs("div",{className:"grid grid-cols-4 gap-4 w-full",children:[e.jsx(te,{}),e.jsx(se,{}),e.jsx(ae,{}),e.jsx(re,{})]})]})})},Ee=de([{path:"/",element:e.jsx(je,{}),children:[{path:"",element:e.jsx(Ne,{}),errorElement:e.jsx(L,{})},{path:"/minimized",element:e.jsx(ye,{}),errorElement:e.jsx(L,{})},{path:"/classify",element:e.jsx(Ae,{}),errorElement:e.jsx(L,{})},{path:"/validate",element:e.jsx(Fe,{}),errorElement:e.jsx(L,{})},{path:"*",element:e.jsx(L,{})}]}]);J(document).on("focus","input[type=number]",function(u){J(this).on("wheel.disableScroll",function(s){s.preventDefault()})});J("form").on("blur","input[type=number]",function(u){J(this).off("wheel.disableScroll")});const Te=new xe;oe.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(pe,{client:Te,children:e.jsx(me,{children:e.jsx(be,{children:e.jsx(ve,{children:e.jsx(fe,{router:Ee})})})})})}));
