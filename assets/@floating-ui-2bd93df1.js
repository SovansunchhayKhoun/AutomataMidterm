import{r as f,R as Nt}from"./react-e3f22801.js";import{r as sn}from"./react-dom-ca9bc2d4.js";import{s as cn,h as un,a as ln}from"./aria-hidden-318acb9e.js";import{t as _t}from"./tabbable-6ab97b54.js";const fn=["top","right","bottom","left"],pt=["start","end"],ht=fn.reduce((e,t)=>e.concat(t,t+"-"+pt[0],t+"-"+pt[1]),[]),Pe=Math.min,be=Math.max,Ve=Math.round,Ne=Math.floor,ye=e=>({x:e,y:e}),an={left:"right",right:"left",bottom:"top",top:"bottom"},dn={start:"end",end:"start"};function ot(e,t,n){return be(e,Pe(t,n))}function Ae(e,t){return typeof e=="function"?e(t):e}function ge(e){return e.split("-")[0]}function ce(e){return e.split("-")[1]}function Bt(e){return e==="x"?"y":"x"}function it(e){return e==="y"?"height":"width"}function qe(e){return["top","bottom"].includes(ge(e))?"y":"x"}function st(e){return Bt(qe(e))}function Kt(e,t,n){n===void 0&&(n=!1);const r=ce(e),o=st(e),i=it(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=We(c)),[c,We(c)]}function mn(e){const t=We(e);return[He(e),t,He(t)]}function He(e){return e.replace(/start|end/g,t=>dn[t])}function gn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:c;default:return[]}}function pn(e,t,n,r){const o=ce(e);let i=gn(ge(e),n==="start",r);return o&&(i=i.map(c=>c+"-"+o),t&&(i=i.concat(i.map(He)))),i}function We(e){return e.replace(/left|right|bottom|top/g,t=>an[t])}function hn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vt(e){return typeof e!="number"?hn(e):{top:e,right:e,bottom:e,left:e}}function $e(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function vt(e,t,n){let{reference:r,floating:o}=e;const i=qe(t),c=st(t),s=it(c),u=ge(t),a=i==="y",y=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,v=r[s]/2-o[s]/2;let l;switch(u){case"top":l={x:y,y:r.y-o.height};break;case"bottom":l={x:y,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:m};break;case"left":l={x:r.x-o.width,y:m};break;default:l={x:r.x,y:r.y}}switch(ce(t)){case"start":l[c]-=v*(n&&a?-1:1);break;case"end":l[c]+=v*(n&&a?-1:1);break}return l}const vn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:c}=n,s=i.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let a=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:y,y:m}=vt(a,r,u),v=r,l={},x=0;for(let g=0;g<s.length;g++){const{name:I,fn:b}=s[g],{x:h,y:L,data:T,reset:E}=await b({x:y,y:m,initialPlacement:r,placement:v,strategy:o,middlewareData:l,rects:a,platform:c,elements:{reference:e,floating:t}});if(y=h??y,m=L??m,l={...l,[I]:{...l[I],...T}},E&&x<=50){x++,typeof E=="object"&&(E.placement&&(v=E.placement),E.rects&&(a=E.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:y,y:m}=vt(a,v,u)),g=-1;continue}}return{x:y,y:m,placement:v,strategy:o,middlewareData:l}};async function ct(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:c,elements:s,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:y="viewport",elementContext:m="floating",altBoundary:v=!1,padding:l=0}=Ae(t,e),x=Vt(l),I=s[v?m==="floating"?"reference":"floating":m],b=$e(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:a,rootBoundary:y,strategy:u})),h=m==="floating"?{...c.floating,x:r,y:o}:c.reference,L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),T=await(i.isElement==null?void 0:i.isElement(L))?await(i.getScale==null?void 0:i.getScale(L))||{x:1,y:1}:{x:1,y:1},E=$e(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h,offsetParent:L,strategy:u}):h);return{top:(b.top-E.top+x.top)/T.y,bottom:(E.bottom-b.bottom+x.bottom)/T.y,left:(b.left-E.left+x.left)/T.x,right:(E.right-b.right+x.right)/T.x}}const yt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:c,elements:s}=t,{element:u,padding:a=0}=Ae(e,t)||{};if(u==null)return{};const y=Vt(a),m={x:n,y:r},v=st(o),l=it(v),x=await c.getDimensions(u),g=v==="y",I=g?"top":"left",b=g?"bottom":"right",h=g?"clientHeight":"clientWidth",L=i.reference[l]+i.reference[v]-m[v]-i.floating[l],T=m[v]-i.reference[v],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u));let R=E?E[h]:0;(!R||!await(c.isElement==null?void 0:c.isElement(E)))&&(R=s.floating[h]||i.floating[l]);const _=L/2-T/2,S=R/2-x[l]/2-1,A=Pe(y[I],S),O=Pe(y[b],S),C=A,p=R-x[l]-O,w=R/2-x[l]/2+_,d=ot(C,w,p),P=ce(o)!=null&&w!=d&&i.reference[l]/2-(w<C?A:O)-x[l]/2<0?w<C?C-w:p-w:0;return{[v]:m[v]-P,data:{[v]:d,centerOffset:w-d+P}}}});function yn(e,t,n){return(e?[...n.filter(o=>ce(o)===e),...n.filter(o=>ce(o)!==e)]:n.filter(o=>ge(o)===o)).filter(o=>e?ce(o)===e||(t?He(o)!==o:!1):!0)}const vr=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:c,placement:s,platform:u,elements:a}=t,{crossAxis:y=!1,alignment:m,allowedPlacements:v=ht,autoAlignment:l=!0,...x}=Ae(e,t),g=m!==void 0||v===ht?yn(m||null,l,v):v,I=await ct(t,x),b=((n=c.autoPlacement)==null?void 0:n.index)||0,h=g[b];if(h==null)return{};const L=Kt(h,i,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(s!==h)return{reset:{placement:g[0]}};const T=[I[ge(h)],I[L[0]],I[L[1]]],E=[...((r=c.autoPlacement)==null?void 0:r.overflows)||[],{placement:h,overflows:T}],R=g[b+1];if(R)return{data:{index:b+1,overflows:E},reset:{placement:R}};const _=E.map(O=>{const C=ce(O.placement);return[O.placement,C&&y?O.overflows.slice(0,2).reduce((p,w)=>p+w,0):O.overflows[0],O.overflows]}).sort((O,C)=>O[1]-C[1]),A=((o=_.filter(O=>O[2].slice(0,ce(O[0])?2:3).every(C=>C<=0))[0])==null?void 0:o[0])||_[0][0];return A!==s?{data:{index:b+1,overflows:E},reset:{placement:A}}:{}}}},yr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:c,platform:s,elements:u}=t,{mainAxis:a=!0,crossAxis:y=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:l="none",flipAlignment:x=!0,...g}=Ae(e,t),I=ge(r),b=ge(c)===c,h=await(s.isRTL==null?void 0:s.isRTL(u.floating)),L=m||(b||!x?[We(c)]:mn(c));!m&&l!=="none"&&L.push(...pn(c,x,l,h));const T=[c,...L],E=await ct(t,g),R=[];let _=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&R.push(E[I]),y){const C=Kt(r,i,h);R.push(E[C[0]],E[C[1]])}if(_=[..._,{placement:r,overflows:R}],!R.every(C=>C<=0)){var S,A;const C=(((S=o.flip)==null?void 0:S.index)||0)+1,p=T[C];if(p)return{data:{index:C,overflows:_},reset:{placement:p}};let w=(A=_.filter(d=>d.overflows[0]<=0).sort((d,M)=>d.overflows[1]-M.overflows[1])[0])==null?void 0:A.placement;if(!w)switch(v){case"bestFit":{var O;const d=(O=_.map(M=>[M.placement,M.overflows.filter(P=>P>0).reduce((P,N)=>P+N,0)]).sort((M,P)=>M[1]-P[1])[0])==null?void 0:O[0];d&&(w=d);break}case"initialPlacement":w=c;break}if(r!==w)return{reset:{placement:w}}}return{}}}};async function wn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=ge(n),s=ce(n),u=qe(n)==="y",a=["left","top"].includes(c)?-1:1,y=i&&u?-1:1,m=Ae(t,e);let{mainAxis:v,crossAxis:l,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return s&&typeof x=="number"&&(l=s==="end"?x*-1:x),u?{x:l*y,y:v*a}:{x:v*a,y:l*y}}const wr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await wn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},br=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:s={fn:I=>{let{x:b,y:h}=I;return{x:b,y:h}}},...u}=Ae(e,t),a={x:n,y:r},y=await ct(t,u),m=qe(ge(o)),v=Bt(m);let l=a[v],x=a[m];if(i){const I=v==="y"?"top":"left",b=v==="y"?"bottom":"right",h=l+y[I],L=l-y[b];l=ot(h,l,L)}if(c){const I=m==="y"?"top":"left",b=m==="y"?"bottom":"right",h=x+y[I],L=x-y[b];x=ot(h,x,L)}const g=s.fn({...t,[v]:l,[m]:x});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function we(e){return Ht(e)?(e.nodeName||"").toLowerCase():"#document"}function oe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function he(e){var t;return(t=(Ht(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ht(e){return e instanceof Node||e instanceof oe(e).Node}function pe(e){return e instanceof Element||e instanceof oe(e).Element}function le(e){return e instanceof HTMLElement||e instanceof oe(e).HTMLElement}function wt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oe(e).ShadowRoot}function ke(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function bn(e){return["table","td","th"].includes(we(e))}function ut(e){const t=lt(),n=ie(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xe(e){return["html","body","#document"].includes(we(e))}function ie(e){return oe(e).getComputedStyle(e)}function Ue(e){return pe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ie(e){if(we(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wt(e)&&e.host||he(e);return wt(t)?t.host:t}function Wt(e){const t=Ie(e);return Xe(t)?e.ownerDocument?e.ownerDocument.body:e.body:le(t)&&ke(t)?t:Wt(t)}function xe(e,t){var n;t===void 0&&(t=[]);const r=Wt(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=oe(r);return o?t.concat(i,i.visualViewport||[],ke(r)?r:[]):t.concat(r,xe(r))}function $t(e){const t=ie(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=le(e),i=o?e.offsetWidth:n,c=o?e.offsetHeight:r,s=Ve(n)!==i||Ve(r)!==c;return s&&(n=i,r=c),{width:n,height:r,$:s}}function ft(e){return pe(e)?e:e.contextElement}function Te(e){const t=ft(e);if(!le(t))return ye(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=$t(t);let c=(i?Ve(n.width):n.width)/r,s=(i?Ve(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!s||!Number.isFinite(s))&&(s=1),{x:c,y:s}}const xn=ye(0);function zt(e){const t=oe(e);return!lt()||!t.visualViewport?xn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Rn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oe(e)?!1:t}function Re(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ft(e);let c=ye(1);t&&(r?pe(r)&&(c=Te(r)):c=Te(e));const s=Rn(i,n,r)?zt(i):ye(0);let u=(o.left+s.x)/c.x,a=(o.top+s.y)/c.y,y=o.width/c.x,m=o.height/c.y;if(i){const v=oe(i),l=r&&pe(r)?oe(r):r;let x=v.frameElement;for(;x&&r&&l!==v;){const g=Te(x),I=x.getBoundingClientRect(),b=ie(x),h=I.left+(x.clientLeft+parseFloat(b.paddingLeft))*g.x,L=I.top+(x.clientTop+parseFloat(b.paddingTop))*g.y;u*=g.x,a*=g.y,y*=g.x,m*=g.y,u+=h,a+=L,x=oe(x).frameElement}}return $e({width:y,height:m,x:u,y:a})}function En(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=le(n),i=he(n);if(n===i)return t;let c={scrollLeft:0,scrollTop:0},s=ye(1);const u=ye(0);if((o||!o&&r!=="fixed")&&((we(n)!=="body"||ke(i))&&(c=Ue(n)),le(n))){const a=Re(n);s=Te(n),u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-c.scrollLeft*s.x+u.x,y:t.y*s.y-c.scrollTop*s.y+u.y}}function Tn(e){return Array.from(e.getClientRects())}function jt(e){return Re(he(e)).left+Ue(e).scrollLeft}function On(e){const t=he(e),n=Ue(e),r=e.ownerDocument.body,o=be(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=be(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+jt(e);const s=-n.scrollTop;return ie(r).direction==="rtl"&&(c+=be(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:c,y:s}}function Cn(e,t){const n=oe(e),r=he(e),o=n.visualViewport;let i=r.clientWidth,c=r.clientHeight,s=0,u=0;if(o){i=o.width,c=o.height;const a=lt();(!a||a&&t==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:c,x:s,y:u}}function Pn(e,t){const n=Re(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=le(e)?Te(e):ye(1),c=e.clientWidth*i.x,s=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:c,height:s,x:u,y:a}}function bt(e,t,n){let r;if(t==="viewport")r=Cn(e,n);else if(t==="document")r=On(he(e));else if(pe(t))r=Pn(t,n);else{const o=zt(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return $e(r)}function Yt(e,t){const n=Ie(e);return n===t||!pe(n)||Xe(n)?!1:ie(n).position==="fixed"||Yt(n,t)}function In(e,t){const n=t.get(e);if(n)return n;let r=xe(e).filter(s=>pe(s)&&we(s)!=="body"),o=null;const i=ie(e).position==="fixed";let c=i?Ie(e):e;for(;pe(c)&&!Xe(c);){const s=ie(c),u=ut(c);!u&&s.position==="fixed"&&(o=null),(i?!u&&!o:!u&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ke(c)&&!u&&Yt(e,c))?r=r.filter(y=>y!==c):o=s,c=Ie(c)}return t.set(e,r),r}function Mn(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?In(t,this._c):[].concat(n),r],s=c[0],u=c.reduce((a,y)=>{const m=bt(t,y,o);return a.top=be(m.top,a.top),a.right=Pe(m.right,a.right),a.bottom=Pe(m.bottom,a.bottom),a.left=be(m.left,a.left),a},bt(t,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function An(e){return $t(e)}function Ln(e,t,n){const r=le(t),o=he(t),i=n==="fixed",c=Re(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const u=ye(0);if(r||!r&&!i)if((we(t)!=="body"||ke(o))&&(s=Ue(t)),r){const a=Re(t,!0,i,t);u.x=a.x+t.clientLeft,u.y=a.y+t.clientTop}else o&&(u.x=jt(o));return{x:c.left+s.scrollLeft-u.x,y:c.top+s.scrollTop-u.y,width:c.width,height:c.height}}function xt(e,t){return!le(e)||ie(e).position==="fixed"?null:t?t(e):e.offsetParent}function Sn(e){let t=Ie(e);for(;le(t)&&!Xe(t);){if(ut(t))return t;t=Ie(t)}return null}function qt(e,t){const n=oe(e);if(!le(e))return n;let r=xt(e,t);for(;r&&bn(r)&&ie(r).position==="static";)r=xt(r,t);return r&&(we(r)==="html"||we(r)==="body"&&ie(r).position==="static"&&!ut(r))?n:r||Sn(e)||n}const kn=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||qt,i=this.getDimensions;return{reference:Ln(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function Dn(e){return ie(e).direction==="rtl"}const Fn={convertOffsetParentRelativeRectToViewportRelativeRect:En,getDocumentElement:he,getClippingRect:Mn,getOffsetParent:qt,getElementRects:kn,getClientRects:Tn,getDimensions:An,getScale:Te,isElement:pe,isRTL:Dn};function Nn(e,t){let n=null,r;const o=he(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function c(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();const{left:a,top:y,width:m,height:v}=e.getBoundingClientRect();if(s||t(),!m||!v)return;const l=Ne(y),x=Ne(o.clientWidth-(a+m)),g=Ne(o.clientHeight-(y+v)),I=Ne(a),h={rootMargin:-l+"px "+-x+"px "+-g+"px "+-I+"px",threshold:be(0,Pe(1,u))||1};let L=!0;function T(E){const R=E[0].intersectionRatio;if(R!==u){if(!L)return c();R?c(!1,R):r=setTimeout(()=>{c(!1,1e-7)},100)}L=!1}try{n=new IntersectionObserver(T,{...h,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,h)}n.observe(e)}return c(!0),i}function xr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=ft(e),y=o||i?[...a?xe(a):[],...xe(t)]:[];y.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=a&&s?Nn(a,n):null;let v=-1,l=null;c&&(l=new ResizeObserver(b=>{let[h]=b;h&&h.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{l&&l.observe(t)})),n()}),a&&!u&&l.observe(a),l.observe(t));let x,g=u?Re(e):null;u&&I();function I(){const b=Re(e);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,x=requestAnimationFrame(I)}return n(),()=>{y.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),m&&m(),l&&l.disconnect(),l=null,u&&cancelAnimationFrame(x)}}const _n=(e,t,n)=>{const r=new Map,o={platform:Fn,...n},i={...o.platform,_c:r};return vn(e,t,{...o,platform:i})},Rr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?yt({element:r.current,padding:o}).fn(n):{}:r?yt({element:r,padding:o}).fn(n):{}}}};var Be=typeof document<"u"?f.useLayoutEffect:f.useEffect;function ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ze(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ze(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Xt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rt(e,t){const n=Xt(e);return Math.round(t*n)/n}function Et(e){const t=f.useRef(e);return Be(()=>{t.current=e}),t}function Bn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:c}={},transform:s=!0,whileElementsMounted:u,open:a}=e,[y,m]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,l]=f.useState(r);ze(v,r)||l(r);const[x,g]=f.useState(null),[I,b]=f.useState(null),h=f.useCallback(P=>{P!=R.current&&(R.current=P,g(P))},[g]),L=f.useCallback(P=>{P!==_.current&&(_.current=P,b(P))},[b]),T=i||x,E=c||I,R=f.useRef(null),_=f.useRef(null),S=f.useRef(y),A=Et(u),O=Et(o),C=f.useCallback(()=>{if(!R.current||!_.current)return;const P={placement:t,strategy:n,middleware:v};O.current&&(P.platform=O.current),_n(R.current,_.current,P).then(N=>{const k={...N,isPositioned:!0};p.current&&!ze(S.current,k)&&(S.current=k,sn.flushSync(()=>{m(k)}))})},[v,t,n,O]);Be(()=>{a===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[a]);const p=f.useRef(!1);Be(()=>(p.current=!0,()=>{p.current=!1}),[]),Be(()=>{if(T&&(R.current=T),E&&(_.current=E),T&&E){if(A.current)return A.current(T,E,C);C()}},[T,E,C,A]);const w=f.useMemo(()=>({reference:R,floating:_,setReference:h,setFloating:L}),[h,L]),d=f.useMemo(()=>({reference:T,floating:E}),[T,E]),M=f.useMemo(()=>{const P={position:n,left:0,top:0};if(!d.floating)return P;const N=Rt(d.floating,y.x),k=Rt(d.floating,y.y);return s?{...P,transform:"translate("+N+"px, "+k+"px)",...Xt(d.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:k}},[n,s,d.floating,y.x,y.y]);return f.useMemo(()=>({...y,update:C,refs:w,elements:d,floatingStyles:M}),[y,C,w,d,M])}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var U=typeof document<"u"?f.useLayoutEffect:f.useEffect;let Ze=!1,Kn=0;const Tt=()=>"floating-ui-"+Kn++;function Vn(){const[e,t]=f.useState(()=>Ze?Tt():void 0);return U(()=>{e==null&&t(Tt())},[]),f.useEffect(()=>{Ze||(Ze=!0)},[]),e}const Hn=Nt["useId".toString()],Ut=Hn||Vn;function Wn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const $n=f.createContext(null),zn=f.createContext(null),at=()=>{var e;return((e=f.useContext($n))==null?void 0:e.id)||null},De=()=>f.useContext(zn);function re(e){return(e==null?void 0:e.ownerDocument)||document}function Gt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function jn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Ge(e){return re(e).defaultView||window}function se(e){return e?e instanceof Element||e instanceof Ge(e).Element:!1}function Ee(e){return e?e instanceof HTMLElement||e instanceof Ge(e).HTMLElement:!1}function Yn(e){if(typeof ShadowRoot>"u")return!1;const t=Ge(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Jt(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Gt())||t.test(jn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Qt(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Zt(){return/apple/i.test(navigator.vendor)}function qn(){return Gt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Ye(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Xn(e){return"nativeEvent"in e}function J(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Yn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Oe(e){return"data-floating-ui-"+e}function ue(e){const t=f.useRef(e);return U(()=>{t.current=e}),t}const Ot=Oe("safe-polygon");function et(e,t,n){return n&&!Ye(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Er(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:c,floating:s},refs:u}=e,{enabled:a=!0,delay:y=0,handleClose:m=null,mouseOnly:v=!1,restMs:l=0,move:x=!0}=t,g=De(),I=at(),b=ue(m),h=ue(y),L=f.useRef(),T=f.useRef(),E=f.useRef(),R=f.useRef(),_=f.useRef(!0),S=f.useRef(!1),A=f.useRef(()=>{}),O=f.useCallback(()=>{var d;const M=(d=o.current.openEvent)==null?void 0:d.type;return(M==null?void 0:M.includes("mouse"))&&M!=="mousedown"},[o]);f.useEffect(()=>{if(!a)return;function d(){clearTimeout(T.current),clearTimeout(R.current),_.current=!0}return i.on("dismiss",d),()=>{i.off("dismiss",d)}},[a,i]),f.useEffect(()=>{if(!a||!b.current||!n)return;function d(P){O()&&r(!1,P)}const M=re(s).documentElement;return M.addEventListener("mouseleave",d),()=>{M.removeEventListener("mouseleave",d)}},[s,n,r,a,b,o,O]);const C=f.useCallback(function(d,M){M===void 0&&(M=!0);const P=et(h.current,"close",L.current);P&&!E.current?(clearTimeout(T.current),T.current=setTimeout(()=>r(!1,d),P)):M&&(clearTimeout(T.current),r(!1,d))},[h,r]),p=f.useCallback(()=>{A.current(),E.current=void 0},[]),w=f.useCallback(()=>{if(S.current){const d=re(u.floating.current).body;d.style.pointerEvents="",d.removeAttribute(Ot),S.current=!1}},[u]);return f.useEffect(()=>{if(!a)return;function d(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function M(k){if(clearTimeout(T.current),_.current=!1,v&&!Ye(L.current)||l>0&&et(h.current,"open")===0)return;const Y=et(h.current,"open",L.current);Y?T.current=setTimeout(()=>{r(!0,k)},Y):r(!0,k)}function P(k){if(d())return;A.current();const Y=re(s);if(clearTimeout(R.current),b.current){n||clearTimeout(T.current),E.current=b.current({...e,tree:g,x:k.clientX,y:k.clientY,onClose(){w(),p(),C(k)}});const H=E.current;Y.addEventListener("mousemove",H),A.current=()=>{Y.removeEventListener("mousemove",H)};return}(L.current==="touch"?!J(s,k.relatedTarget):!0)&&C(k)}function N(k){d()||b.current==null||b.current({...e,tree:g,x:k.clientX,y:k.clientY,onClose(){w(),p(),C(k)}})(k)}if(se(c)){const k=c;return n&&k.addEventListener("mouseleave",N),s==null||s.addEventListener("mouseleave",N),x&&k.addEventListener("mousemove",M,{once:!0}),k.addEventListener("mouseenter",M),k.addEventListener("mouseleave",P),()=>{n&&k.removeEventListener("mouseleave",N),s==null||s.removeEventListener("mouseleave",N),x&&k.removeEventListener("mousemove",M),k.removeEventListener("mouseenter",M),k.removeEventListener("mouseleave",P)}}},[c,s,a,e,v,l,x,C,p,w,r,n,g,h,b,o]),U(()=>{var d;if(a&&n&&(d=b.current)!=null&&d.__options.blockPointerEvents&&O()){const N=re(s).body;if(N.setAttribute(Ot,""),N.style.pointerEvents="none",S.current=!0,se(c)&&s){var M,P;const k=c,Y=g==null||(M=g.nodesRef.current.find(G=>G.id===I))==null||(P=M.context)==null?void 0:P.elements.floating;return Y&&(Y.style.pointerEvents=""),k.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{k.style.pointerEvents="",s.style.pointerEvents=""}}}},[a,n,I,s,c,g,b,o,O]),U(()=>{n||(L.current=void 0,p(),w())},[n,p,w]),f.useEffect(()=>()=>{p(),clearTimeout(T.current),clearTimeout(R.current),w()},[a,p,w]),f.useMemo(()=>{if(!a)return{};function d(M){L.current=M.pointerType}return{reference:{onPointerDown:d,onPointerEnter:d,onMouseMove(M){n||l===0||(clearTimeout(R.current),R.current=setTimeout(()=>{_.current||r(!0,M.nativeEvent)},l))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(M){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),C(M.nativeEvent,!1)}}}},[i,a,l,n,r,C])}function me(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let Ct=0;function de(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Ct);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Ct=requestAnimationFrame(i)}function Un(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(c=>c.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ce(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(c=>{var s;return o.parentId===c.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function dt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Gn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function en(e){return Ee(e)&&e.matches(Gn)}function ne(e){e.preventDefault(),e.stopPropagation()}const tn=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nn(e,t){const n=_t(e,tn());t==="prev"&&n.reverse();const r=n.indexOf(me(re(e)));return n.slice(r+1)[0]}function Jn(){return nn(document.body,"next")}function Qn(){return nn(document.body,"prev")}function Pt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!J(n,r)}const rn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Zn;function It(e){e.key==="Tab"&&(e.target,clearTimeout(Zn))}const Mt=f.forwardRef(function(t,n){const[r,o]=f.useState();U(()=>(Zt()&&o("button"),document.addEventListener("keydown",It),()=>{document.removeEventListener("keydown",It)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Oe("focus-guard")]:"",style:rn};return f.createElement("span",je({},t,i))}),er=f.createContext(null),tr=()=>f.useContext(er),nr=f.forwardRef(function(t,n){return f.createElement("button",je({},t,{type:"button",ref:n,tabIndex:-1,style:rn}))});function Tr(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:c=0,returnFocus:s=!0,modal:u=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:y=!0}=e,{open:m,refs:v,nodeId:l,onOpenChange:x,events:g,dataRef:I,elements:{domReference:b,floating:h}}=t,L=cn()?i:!0,T=ue(o),E=ue(c),R=ue(s),_=De(),S=tr(),A=typeof c=="number"&&c<0,O=f.useRef(null),C=f.useRef(null),p=f.useRef(!1),w=f.useRef(null),d=f.useRef(!1),M=S!=null,P=b&&b.getAttribute("role")==="combobox"&&en(b),N=f.useCallback(function(H){return H===void 0&&(H=h),H?_t(H,tn()):[]},[h]),k=f.useCallback(H=>{const $=N(H);return T.current.map(K=>b&&K==="reference"?b:h&&K==="floating"?h:$).filter(Boolean).flat()},[b,h,T,N]);f.useEffect(()=>{if(r||!u)return;function H(K){if(K.key==="Tab"){J(h,me(re(h)))&&N().length===0&&!P&&ne(K);const W=k(),q=dt(K);T.current[0]==="reference"&&q===b&&(ne(K),K.shiftKey?de(W[W.length-1]):de(W[1])),T.current[1]==="floating"&&q===h&&K.shiftKey&&(ne(K),de(W[0]))}}const $=re(h);return $.addEventListener("keydown",H),()=>{$.removeEventListener("keydown",H)}},[r,b,h,u,T,v,P,N,k]),f.useEffect(()=>{if(r||!y)return;function H(){d.current=!0,setTimeout(()=>{d.current=!1})}function $(K){const W=K.relatedTarget;queueMicrotask(()=>{const q=!(J(b,W)||J(h,W)||J(W,h)||J(S==null?void 0:S.portalNode,W)||W!=null&&W.hasAttribute(Oe("focus-guard"))||_&&(Ce(_.nodesRef.current,l).find(X=>{var F,B;return J((F=X.context)==null?void 0:F.elements.floating,W)||J((B=X.context)==null?void 0:B.elements.domReference,W)})||Un(_.nodesRef.current,l).find(X=>{var F,B;return((F=X.context)==null?void 0:F.elements.floating)===W||((B=X.context)==null?void 0:B.elements.domReference)===W})));W&&q&&!d.current&&W!==w.current&&(p.current=!0,x(!1,K))})}if(h&&Ee(b))return b.addEventListener("focusout",$),b.addEventListener("pointerdown",H),!u&&h.addEventListener("focusout",$),()=>{b.removeEventListener("focusout",$),b.removeEventListener("pointerdown",H),!u&&h.removeEventListener("focusout",$)}},[r,b,h,u,l,_,S,x,y]),f.useEffect(()=>{var H;if(r)return;const $=Array.from((S==null||(H=S.portalNode)==null?void 0:H.querySelectorAll("["+Oe("portal")+"]"))||[]);if(h&&u){const K=[h,...$,O.current,C.current].filter(X=>X!=null),q=(L?un:ln)(T.current.includes("reference")||P?K.concat(b||[]):K,void 0,Oe("inert"));return()=>{q()}}},[r,b,h,u,T,S,P,L]),U(()=>{if(r||!h)return;const H=re(h),$=me(H);queueMicrotask(()=>{const K=k(h),W=E.current,q=(typeof W=="number"?K[W]:W.current)||h,X=J(h,$);!A&&!X&&m&&de(q,{preventScroll:q===h})})},[r,m,h,A,k,E]),U(()=>{if(r||!h)return;let H=!1;const $=re(h),K=me($),W=I.current;w.current=K;function q(X){if(X.type==="escapeKey"&&v.domReference.current&&(w.current=v.domReference.current),["referencePress","escapeKey"].includes(X.type))return;const F=X.data.returnFocus;typeof F=="object"?(p.current=!1,H=F.preventScroll):p.current=!F}return g.on("dismiss",q),()=>{g.off("dismiss",q);const X=me($);(J(h,X)||_&&Ce(_.nodesRef.current,l).some(B=>{var V;return J((V=B.context)==null?void 0:V.elements.floating,X)})||W.openEvent&&["click","mousedown"].includes(W.openEvent.type))&&v.domReference.current&&(w.current=v.domReference.current),R.current&&Ee(w.current)&&!p.current&&de(w.current,{cancelPrevious:!1,preventScroll:H})}},[r,h,R,I,v,g,_,l]),U(()=>{if(!(r||!S))return S.setFocusManagerState({...t,modal:u,closeOnFocusOut:y,open:m}),()=>{S.setFocusManagerState(null)}},[r,S,u,m,y,t]),U(()=>{if(!r&&h&&typeof MutationObserver=="function"){const H=()=>{const K=h.getAttribute("tabindex");T.current.includes("floating")||me(re(h))!==v.domReference.current&&N().length===0?K!=="0"&&h.setAttribute("tabindex","0"):K!=="-1"&&h.setAttribute("tabindex","-1")};H();const $=new MutationObserver(H);return $.observe(h,{childList:!0,subtree:!0,attributes:!0}),()=>{$.disconnect()}}},[r,h,v,T,N]);function Y(H){return r||!a||!u?null:f.createElement(nr,{ref:H==="start"?O:C,onClick:$=>x(!1,$.nativeEvent)},typeof a=="string"?a:"Dismiss")}const G=!r&&L&&!P&&(M||u);return f.createElement(f.Fragment,null,G&&f.createElement(Mt,{"data-type":"inside",ref:S==null?void 0:S.beforeInsideRef,onFocus:H=>{if(u){const K=k();de(o[0]==="reference"?K[0]:K[K.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(p.current=!1,Pt(H,S.portalNode)){const K=Jn()||b;K==null||K.focus()}else{var $;($=S.beforeOutsideRef.current)==null||$.focus()}}}),!P&&Y("start"),n,Y("end"),G&&f.createElement(Mt,{"data-type":"inside",ref:S==null?void 0:S.afterInsideRef,onFocus:H=>{if(u)de(k()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(y&&(p.current=!0),Pt(H,S.portalNode)){const K=Qn()||b;K==null||K.focus()}else{var $;($=S.afterOutsideRef.current)==null||$.focus()}}}))}function rr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function or(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const on=f.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Or(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=f.useState(()=>new Map),c=f.useCallback(u=>{i(a=>new Map(a).set(u,null))},[]),s=f.useCallback(u=>{i(a=>{const y=new Map(a);return y.delete(u),y})},[]);return U(()=>{const u=new Map(o);Array.from(u.keys()).sort(rr).forEach((y,m)=>{u.set(y,m)}),or(o,u)||i(u)},[o]),f.createElement(on.Provider,{value:f.useMemo(()=>({register:c,unregister:s,map:o,elementsRef:n,labelsRef:r}),[c,s,o,n,r])},t)}function Cr(e){let{label:t}=e===void 0?{}:e;const[n,r]=f.useState(null),o=f.useRef(null),{register:i,unregister:c,map:s,elementsRef:u,labelsRef:a}=f.useContext(on),y=f.useCallback(m=>{if(o.current=m,n!==null&&(u.current[n]=m,a)){var v;const l=t!==void 0;a.current[n]=l?t:(v=m==null?void 0:m.textContent)!=null?v:null}},[n,u,a,t]);return U(()=>{const m=o.current;if(m)return i(m),()=>{c(m)}},[i,c]),U(()=>{const m=o.current?s.get(o.current):null;m!=null&&r(m)},[s]),f.useMemo(()=>({ref:y,index:n??-1}),[n,y])}function At(e){return Ee(e.target)&&e.target.tagName==="BUTTON"}function Lt(e){return en(e)}function Pr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:c=!0,event:s="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:y=!0}=t,m=f.useRef(),v=f.useRef(!1);return f.useMemo(()=>c?{reference:{onPointerDown(l){m.current=l.pointerType},onMouseDown(l){l.button===0&&(Ye(m.current,!0)&&a||s!=="click"&&(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(s==="mousedown"&&m.current){m.current=void 0;return}Ye(m.current,!0)&&a||(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){m.current=void 0,!(l.defaultPrevented||!y||At(l))&&(l.key===" "&&!Lt(i)&&(l.preventDefault(),v.current=!0),l.key==="Enter"&&r(!(n&&u),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!y||At(l)||Lt(i)||l.key===" "&&v.current&&(v.current=!1,r(!(n&&u),l.nativeEvent))}}}:{},[c,o,s,a,y,i,u,n,r])}const ir=Nt["useInsertionEffect".toString()],sr=ir||(e=>e());function ve(e){const t=f.useRef(()=>{});return sr(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Ke(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const cr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ur={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},lr=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Ir(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:c,domReference:s,floating:u},dataRef:a}=e,{enabled:y=!0,escapeKey:m=!0,outsidePress:v=!0,outsidePressEvent:l="pointerdown",referencePress:x=!1,referencePressEvent:g="pointerdown",ancestorScroll:I=!1,bubbles:b}=t,h=De(),L=at()!=null,T=ve(typeof v=="function"?v:()=>!1),E=typeof v=="function"?T:v,R=f.useRef(!1),{escapeKeyBubbles:_,outsidePressBubbles:S}=lr(b),A=ve(C=>{if(!n||!y||!m||C.key!=="Escape")return;const p=h?Ce(h.nodesRef.current,i):[];if(!_&&(C.stopPropagation(),p.length>0)){let w=!0;if(p.forEach(d=>{var M;if((M=d.context)!=null&&M.open&&!d.context.dataRef.current.__escapeKeyBubbles){w=!1;return}}),!w)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,Xn(C)?C.nativeEvent:C)}),O=ve(C=>{const p=R.current;if(R.current=!1,p||typeof E=="function"&&!E(C))return;const w=dt(C);if(Ee(w)&&u){const P=w.clientWidth>0&&w.scrollWidth>w.clientWidth,N=w.clientHeight>0&&w.scrollHeight>w.clientHeight;let k=N&&C.offsetX>w.clientWidth;if(N&&Ge(u).getComputedStyle(w).direction==="rtl"&&(k=C.offsetX<=w.offsetWidth-w.clientWidth),k||P&&C.offsetY>w.clientHeight)return}const d=h&&Ce(h.nodesRef.current,i).some(P=>{var N;return Ke(C,(N=P.context)==null?void 0:N.elements.floating)});if(Ke(C,u)||Ke(C,s)||d)return;const M=h?Ce(h.nodesRef.current,i):[];if(M.length>0){let P=!0;if(M.forEach(N=>{var k;if((k=N.context)!=null&&k.open&&!N.context.dataRef.current.__outsidePressBubbles){P=!1;return}}),!P)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:L?{preventScroll:!0}:Jt(C)||Qt(C)}}),r(!1,C)});return f.useEffect(()=>{if(!n||!y)return;a.current.__escapeKeyBubbles=_,a.current.__outsidePressBubbles=S;function C(d){r(!1,d)}const p=re(u);m&&p.addEventListener("keydown",A),E&&p.addEventListener(l,O);let w=[];return I&&(se(s)&&(w=xe(s)),se(u)&&(w=w.concat(xe(u))),!se(c)&&c&&c.contextElement&&(w=w.concat(xe(c.contextElement)))),w=w.filter(d=>{var M;return d!==((M=p.defaultView)==null?void 0:M.visualViewport)}),w.forEach(d=>{d.addEventListener("scroll",C,{passive:!0})}),()=>{m&&p.removeEventListener("keydown",A),E&&p.removeEventListener(l,O),w.forEach(d=>{d.removeEventListener("scroll",C)})}},[a,u,s,c,m,E,l,n,r,I,y,_,S,A,O]),f.useEffect(()=>{R.current=!1},[E,l]),f.useMemo(()=>y?{reference:{onKeyDown:A,[cr[g]]:C=>{x&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,C.nativeEvent))}},floating:{onKeyDown:A,[ur[l]]:()=>{R.current=!0}}}:{},[y,o,x,l,g,r,A])}function Mr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,c]=f.useState(null),s=((t=e.elements)==null?void 0:t.reference)||i,u=Bn(e),a=De(),y=ve((T,E)=>{T&&(v.current.openEvent=E),r==null||r(T,E)}),m=f.useRef(null),v=f.useRef({}),l=f.useState(()=>Wn())[0],x=Ut(),g=f.useCallback(T=>{const E=se(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;u.refs.setReference(E)},[u.refs]),I=f.useCallback(T=>{(se(T)||T===null)&&(m.current=T,c(T)),(se(u.refs.reference.current)||u.refs.reference.current===null||T!==null&&!se(T))&&u.refs.setReference(T)},[u.refs]),b=f.useMemo(()=>({...u.refs,setReference:I,setPositionReference:g,domReference:m}),[u.refs,I,g]),h=f.useMemo(()=>({...u.elements,domReference:s}),[u.elements,s]),L=f.useMemo(()=>({...u,refs:b,elements:h,dataRef:v,nodeId:o,floatingId:x,events:l,open:n,onOpenChange:y}),[u,o,x,l,n,y,b,h]);return U(()=>{const T=a==null?void 0:a.nodesRef.current.find(E=>E.id===o);T&&(T.context=L)}),f.useMemo(()=>({...u,context:L,refs:b,elements:h}),[u,b,h,L])}function Ar(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:c,elements:{floating:s,domReference:u}}=e,{enabled:a=!0,keyboardOnly:y=!0}=t,m=f.useRef(""),v=f.useRef(!1),l=f.useRef();return f.useEffect(()=>{if(!a)return;const g=re(s).defaultView||window;function I(){!n&&Ee(u)&&u===me(re(u))&&(v.current=!0)}return g.addEventListener("blur",I),()=>{g.removeEventListener("blur",I)}},[s,u,n,a]),f.useEffect(()=>{if(!a)return;function x(g){(g.type==="referencePress"||g.type==="escapeKey")&&(v.current=!0)}return i.on("dismiss",x),()=>{i.off("dismiss",x)}},[i,a]),f.useEffect(()=>()=>{clearTimeout(l.current)},[]),f.useMemo(()=>a?{reference:{onPointerDown(x){let{pointerType:g}=x;m.current=g,v.current=!!(g&&y)},onMouseLeave(){v.current=!1},onFocus(x){var g;v.current||x.type==="focus"&&((g=o.current.openEvent)==null?void 0:g.type)==="mousedown"&&Ke(o.current.openEvent,u)||r(!0,x.nativeEvent)},onBlur(x){v.current=!1;const g=x.relatedTarget,I=se(g)&&g.hasAttribute(Oe("focus-guard"))&&g.getAttribute("data-type")==="outside";l.current=setTimeout(()=>{J(c.floating.current,g)||J(u,g)||I||r(!1,x.nativeEvent)})}}}:{},[a,y,u,c,o,r])}function tt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(c=>{let[s,u]=c;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof u=="function"){var a;(a=r.get(s))==null||a.push(u),o[s]=function(){for(var y,m=arguments.length,v=new Array(m),l=0;l<m;l++)v[l]=arguments[l];return(y=r.get(s))==null?void 0:y.map(x=>x(...v)).find(x=>x!==void 0)}}}else o[s]=u}),o),{})}}function Lr(e){e===void 0&&(e=[]);const t=e,n=f.useCallback(i=>tt(i,e,"reference"),t),r=f.useCallback(i=>tt(i,e,"floating"),t),o=f.useCallback(i=>tt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return f.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let St=!1;const mt="ArrowUp",Je="ArrowDown",Me="ArrowLeft",Fe="ArrowRight";function _e(e,t,n){return Math.floor(e/t)!==n}function Se(e,t){return t<0||t>=e.current.length}function ee(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const c=e.current;let s=n;do{var u,a;s=s+(r?-i:i)}while(s>=0&&s<=c.length-1&&(o?o.includes(s):c[s]==null||(u=c[s])!=null&&u.hasAttribute("disabled")||((a=c[s])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return s}function Qe(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function kt(e,t){return Qe(t,e===mt||e===Je,e===Me||e===Fe)}function nt(e,t,n){return Qe(t,e===Je,n?e===Me:e===Fe)||e==="Enter"||e==" "||e===""}function fr(e,t,n){return Qe(t,n?e===Me:e===Fe,e===Je)}function ar(e,t,n){return Qe(t,n?e===Fe:e===Me,e===mt)}function rt(e,t){return ee(e,{disabledIndices:t})}function Dt(e,t){return ee(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Sr(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:c}}=e,{listRef:s,activeIndex:u,onNavigate:a=()=>{},enabled:y=!0,selectedIndex:m=null,allowEscape:v=!1,loop:l=!1,nested:x=!1,rtl:g=!1,virtual:I=!1,focusItemOnOpen:b="auto",focusItemOnHover:h=!0,openOnArrowKeyDown:L=!0,disabledIndices:T=void 0,orientation:E="vertical",cols:R=1,scrollItemIntoView:_=!0}=t,S=at(),A=De(),O=ve(a),C=f.useRef(b),p=f.useRef(m??-1),w=f.useRef(null),d=f.useRef(!0),M=f.useRef(O),P=f.useRef(!!c),N=f.useRef(!1),k=f.useRef(!1),Y=ue(T),G=ue(n),H=ue(_),[$,K]=f.useState(),W=ve(function(F,B,V){V===void 0&&(V=!1);const z=F.current[B.current];z&&(I?K(z.id):de(z,{preventScroll:!0,sync:qn()&&Zt()?St||N.current:!1}),requestAnimationFrame(()=>{const Q=H.current;Q&&z&&(V||!d.current)&&(z.scrollIntoView==null||z.scrollIntoView(typeof Q=="boolean"?{block:"nearest",inline:"nearest"}:Q))}))});U(()=>{document.createElement("div").focus({get preventScroll(){return St=!0,!1}})},[]),U(()=>{y&&(n&&c?C.current&&m!=null&&(k.current=!0,O(m)):P.current&&(p.current=-1,M.current(null)))},[y,n,c,m,O]),U(()=>{if(y&&n&&c)if(u==null){if(N.current=!1,m!=null)return;if(P.current&&(p.current=-1,W(s,p)),!P.current&&C.current&&(w.current!=null||C.current===!0&&w.current==null)){let F=0;const B=()=>{s.current[0]==null?(F<2&&(F?requestAnimationFrame:queueMicrotask)(B),F++):(p.current=w.current==null||nt(w.current,E,g)||x?rt(s,Y.current):Dt(s,Y.current),w.current=null,O(p.current))};B()}}else Se(s,u)||(p.current=u,W(s,p,k.current),k.current=!1)},[y,n,c,u,m,x,s,E,g,O,W,Y]),U(()=>{if(y&&P.current&&!c&&A){var F,B;const V=A.nodesRef.current,z=(F=V.find(Z=>Z.id===S))==null||(B=F.context)==null?void 0:B.elements.floating,Q=me(re(c)),D=V.some(Z=>Z.context&&J(Z.context.elements.floating,Q));z&&!D&&z.focus({preventScroll:!0})}},[y,c,A,S]),U(()=>{M.current=O,P.current=!!c}),U(()=>{n||(w.current=null)},[n]);const q=u!=null,X=f.useMemo(()=>{function F(V){if(!n)return;const z=s.current.indexOf(V);z!==-1&&O(z)}return{onFocus(V){let{currentTarget:z}=V;F(z)},onClick:V=>{let{currentTarget:z}=V;return z.focus({preventScroll:!0})},...h&&{onMouseMove(V){let{currentTarget:z}=V;F(z)},onPointerLeave(V){let{pointerType:z}=V;!d.current||z==="touch"||(p.current=-1,W(s,p),O(null),I||de(o.floating.current,{preventScroll:!0}))}}}},[n,o,W,h,s,O,I]);return f.useMemo(()=>{if(!y)return{};const F=Y.current;function B(D){if(d.current=!1,N.current=!0,!G.current&&D.currentTarget===o.floating.current)return;if(x&&ar(D.key,E,g)){ne(D),r(!1,D.nativeEvent),Ee(i)&&i.focus();return}const Z=p.current,fe=rt(s,F),te=Dt(s,F);if(D.key==="Home"&&(ne(D),p.current=fe,O(p.current)),D.key==="End"&&(ne(D),p.current=te,O(p.current)),R>1){const j=p.current;if(D.key===mt){if(ne(D),j===-1)p.current=te;else if(p.current=ee(s,{startingIndex:j,amount:R,decrement:!0,disabledIndices:F}),l&&(j-R<fe||p.current<0)){const ae=j%R,Le=te%R,gt=te-(Le-ae);Le===ae?p.current=te:p.current=Le>ae?gt:gt-R}Se(s,p.current)&&(p.current=j),O(p.current)}if(D.key===Je&&(ne(D),j===-1?p.current=fe:(p.current=ee(s,{startingIndex:j,amount:R,disabledIndices:F}),l&&j+R>te&&(p.current=ee(s,{startingIndex:j%R-R,amount:R,disabledIndices:F}))),Se(s,p.current)&&(p.current=j),O(p.current)),E==="both"){const ae=Math.floor(j/R);D.key===Fe&&(ne(D),j%R!==R-1?(p.current=ee(s,{startingIndex:j,disabledIndices:F}),l&&_e(p.current,R,ae)&&(p.current=ee(s,{startingIndex:j-j%R-1,disabledIndices:F}))):l&&(p.current=ee(s,{startingIndex:j-j%R-1,disabledIndices:F})),_e(p.current,R,ae)&&(p.current=j)),D.key===Me&&(ne(D),j%R!==0?(p.current=ee(s,{startingIndex:j,disabledIndices:F,decrement:!0}),l&&_e(p.current,R,ae)&&(p.current=ee(s,{startingIndex:j+(R-j%R),decrement:!0,disabledIndices:F}))):l&&(p.current=ee(s,{startingIndex:j+(R-j%R),decrement:!0,disabledIndices:F})),_e(p.current,R,ae)&&(p.current=j));const Le=Math.floor(te/R)===ae;Se(s,p.current)&&(l&&Le?p.current=D.key===Me?te:ee(s,{startingIndex:j-j%R-1,disabledIndices:F}):p.current=j),O(p.current);return}}if(kt(D.key,E)){if(ne(D),n&&!I&&me(D.currentTarget.ownerDocument)===D.currentTarget){p.current=nt(D.key,E,g)?fe:te,O(p.current);return}nt(D.key,E,g)?l?p.current=Z>=te?v&&Z!==s.current.length?-1:fe:ee(s,{startingIndex:Z,disabledIndices:F}):p.current=Math.min(te,ee(s,{startingIndex:Z,disabledIndices:F})):l?p.current=Z<=fe?v&&Z!==-1?s.current.length:te:ee(s,{startingIndex:Z,decrement:!0,disabledIndices:F}):p.current=Math.max(fe,ee(s,{startingIndex:Z,decrement:!0,disabledIndices:F})),Se(s,p.current)?O(null):O(p.current)}}function V(D){b==="auto"&&Jt(D.nativeEvent)&&(C.current=!0)}function z(D){C.current=b,b==="auto"&&Qt(D.nativeEvent)&&(C.current=!0)}const Q=I&&n&&q&&{"aria-activedescendant":$};return{reference:{...Q,onKeyDown(D){d.current=!1;const Z=D.key.indexOf("Arrow")===0;if(I&&n)return B(D);if(!n&&!L&&Z)return;const fe=Z||D.key==="Enter"||D.key.trim()==="",te=kt(D.key,E),j=fr(D.key,E,g);if(fe&&(w.current=x&&te?null:D.key),x){j&&(ne(D),n?(p.current=rt(s,F),O(p.current)):r(!0,D.nativeEvent));return}te&&(m!=null&&(p.current=m),ne(D),!n&&L?r(!0,D.nativeEvent):B(D),n&&O(p.current))},onFocus(){n&&O(null)},onPointerDown:z,onMouseDown:V,onClick:V},floating:{"aria-orientation":E==="both"?void 0:E,...Q,onKeyDown:B,onPointerMove(){d.current=!0}},item:X}},[i,o,$,Y,G,s,y,E,g,I,n,q,x,m,L,v,R,l,b,O,r,X])}function kr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,c=Ut();return f.useMemo(()=>{const s={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:s}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:c}},floating:{...s,...i==="menu"&&{"aria-labelledby":c}}}:{}},[o,i,n,r,c])}function Dr(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:c,onMatch:s,onTypingChange:u,enabled:a=!0,findMatch:y=null,resetMs:m=750,ignoreKeys:v=[],selectedIndex:l=null}=t,x=f.useRef(),g=f.useRef(""),I=f.useRef((n=l??c)!=null?n:-1),b=f.useRef(null),h=ve(s),L=ve(u),T=ue(y),E=ue(v);return U(()=>{r&&(clearTimeout(x.current),b.current=null,g.current="")},[r]),U(()=>{if(r&&g.current===""){var R;I.current=(R=l??c)!=null?R:-1}},[r,l,c]),f.useMemo(()=>{if(!a)return{};function R(A){A?o.current.typing||(o.current.typing=A,L(A)):o.current.typing&&(o.current.typing=A,L(A))}function _(A,O,C){const p=T.current?T.current(O,C):O.find(w=>(w==null?void 0:w.toLocaleLowerCase().indexOf(C.toLocaleLowerCase()))===0);return p?A.indexOf(p):-1}function S(A){const O=i.current;if(g.current.length>0&&g.current[0]!==" "&&(_(O,O,g.current)===-1?R(!1):A.key===" "&&ne(A)),O==null||E.current.includes(A.key)||A.key.length!==1||A.ctrlKey||A.metaKey||A.altKey)return;r&&A.key!==" "&&(ne(A),R(!0)),O.every(d=>{var M,P;return d?((M=d[0])==null?void 0:M.toLocaleLowerCase())!==((P=d[1])==null?void 0:P.toLocaleLowerCase()):!0})&&g.current===A.key&&(g.current="",I.current=b.current),g.current+=A.key,clearTimeout(x.current),x.current=setTimeout(()=>{g.current="",I.current=b.current,R(!1)},m);const p=I.current,w=_(O,[...O.slice((p||0)+1),...O.slice(0,(p||0)+1)],g.current);w!==-1?(h(w),b.current=w):A.key!==" "&&(g.current="",R(!1))}return{reference:{onKeyDown:S},floating:{onKeyDown:S,onKeyUp(A){A.key===" "&&R(!1)}}}},[a,r,o,i,m,E,T,h,L])}function Ft(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let c=0,s=i-1;c<i;s=c++){const[u,a]=t[c]||[0,0],[y,m]=t[s]||[0,0];a>=r!=m>=r&&n<=(y-u)*(r-a)/(m-a)+u&&(o=!o)}return o}function dr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Fr(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,c=null,s=null,u=performance.now();function a(m,v){const l=performance.now(),x=l-u;if(c===null||s===null||x===0)return c=m,s=v,u=l,null;const g=m-c,I=v-s,h=Math.sqrt(g*g+I*I)/x;return c=m,s=v,u=l,h}const y=m=>{let{x:v,y:l,placement:x,elements:g,onClose:I,nodeId:b,tree:h}=m;return function(T){function E(){clearTimeout(o),I()}if(clearTimeout(o),!g.domReference||!g.floating||x==null||v==null||l==null)return;const{clientX:R,clientY:_}=T,S=[R,_],A=dt(T),O=T.type==="mouseleave",C=J(g.floating,A),p=J(g.domReference,A),w=g.domReference.getBoundingClientRect(),d=g.floating.getBoundingClientRect(),M=x.split("-")[0],P=v>d.right-d.width/2,N=l>d.bottom-d.height/2,k=dr(S,w),Y=d.width>w.width,G=d.height>w.height,H=(Y?w:d).left,$=(Y?w:d).right,K=(G?w:d).top,W=(G?w:d).bottom;if(C&&(i=!0,!O))return;if(p&&(i=!1),p&&!O){i=!0;return}if(O&&se(T.relatedTarget)&&J(g.floating,T.relatedTarget)||h&&Ce(h.nodesRef.current,b).some(F=>{let{context:B}=F;return B==null?void 0:B.open}))return;if(M==="top"&&l>=w.bottom-1||M==="bottom"&&l<=w.top+1||M==="left"&&v>=w.right-1||M==="right"&&v<=w.left+1)return E();let q=[];switch(M){case"top":q=[[H,w.top+1],[H,d.bottom-1],[$,d.bottom-1],[$,w.top+1]];break;case"bottom":q=[[H,d.top+1],[H,w.bottom-1],[$,w.bottom-1],[$,d.top+1]];break;case"left":q=[[d.right-1,W],[d.right-1,K],[w.left+1,K],[w.left+1,W]];break;case"right":q=[[w.right-1,W],[w.right-1,K],[d.left+1,K],[d.left+1,W]];break}function X(F){let[B,V]=F;switch(M){case"top":{const z=[Y?B+t/2:P?B+t*4:B-t*4,V+t+1],Q=[Y?B-t/2:P?B+t*4:B-t*4,V+t+1],D=[[d.left,P||Y?d.bottom-t:d.top],[d.right,P?Y?d.bottom-t:d.top:d.bottom-t]];return[z,Q,...D]}case"bottom":{const z=[Y?B+t/2:P?B+t*4:B-t*4,V-t],Q=[Y?B-t/2:P?B+t*4:B-t*4,V-t],D=[[d.left,P||Y?d.top+t:d.bottom],[d.right,P?Y?d.top+t:d.bottom:d.top+t]];return[z,Q,...D]}case"left":{const z=[B+t+1,G?V+t/2:N?V+t*4:V-t*4],Q=[B+t+1,G?V-t/2:N?V+t*4:V-t*4];return[...[[N||G?d.right-t:d.left,d.top],[N?G?d.right-t:d.left:d.right-t,d.bottom]],z,Q]}case"right":{const z=[B-t,G?V+t/2:N?V+t*4:V-t*4],Q=[B-t,G?V-t/2:N?V+t*4:V-t*4],D=[[N||G?d.left+t:d.right,d.top],[N?G?d.left+t:d.right:d.left+t,d.bottom]];return[z,Q,...D]}}}if(!Ft([R,_],q)){if(i&&!k)return E();if(!O&&r){const F=a(T.clientX,T.clientY);if(F!==null&&F<.1)return E()}Ft([R,_],X([v,l]))?!i&&r&&(o=window.setTimeout(E,40)):E()}}};return y.__options={blockPointerEvents:n},y}export{Tr as F,vr as a,Rr as b,Mr as c,xr as d,Lr as e,yr as f,Pr as g,Er as h,Fr as i,Ir as j,kr as k,Sr as l,Dr as m,Or as n,wr as o,Ar as p,br as s,Cr as u};
